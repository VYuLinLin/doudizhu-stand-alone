window.__require=function e(t,a,r){function n(o,s){if(!a[o]){if(!t[o]){var l=o.split("/");if(l=l[l.length-1],!t[l]){var c="function"==typeof __require&&__require;if(!s&&c)return c(l,!0);if(i)return i(l,!0);throw new Error("Cannot find module '"+o+"'")}o=l}var d=a[o]={exports:{}};t[o][0].call(d.exports,function(e){return n(t[o][1][e]||e)},d,d.exports,e,t,a,r)}return a[o].exports}for(var i="function"==typeof __require&&__require,o=0;o<r.length;o++)n(r[o]);return n}({AILogic:[function(e,t,a){"use strict";function r(e){return o(e)||i(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function o(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}cc._RF.push(t,"6b09dnMfKxGlZe6hVd/T7bf","AILogic");var s=function(e){this.player=e,this.cards=e.cardList.slice(0).sort(function(e,t){return t.val-e.val}),this.analyse()},l=function(e,t){return{val:e,cardList:t}};s.prototype.follow=function(e,t,a){var r=this;r.log();var n=function(){switch(e.cardKind){case G.gameRule.ONE:if(!(g=r.matchCards(r._one,G.gameRule.ONE,e,t,a))){if(t||r.player.isLandlord)for(var n=0;n<r.cards.length;n++)if(r.cards[n].val<=15&&r.cards[n].val>e.val)return{cardList:r.cards.slice(n,n+1),cardKind:G.gameRule.ONE,size:1,val:r.cards[n].val};if(r.times<=1&&r._pairs.length>0&&r._pairs[0].val>10){var i=r.cards.slice(0,1);return i[0].val>e.val?{cardList:i,cardKind:G.gameRule.ONE,size:1,val:i[0].val}:null}}return g;case G.gameRule.PAIRS:if(null==(c=r._pairs.length>0?r.matchCards(r._pairs,G.gameRule.PAIRS,e,t,a):null)&&(t||r.player.isLandlord))if(r._progressionPairs.length>0){for(n=r._progressionPairs.length-1;n>=0;n--)if(!(e.val>=r._progressionPairs[n].val))for(var o=r._progressionPairs[n].cardList.length-1;o>=0;o-=2)if(r._progressionPairs[n].cardList[o].val>e.val){var s=r._progressionPairs[n].cardList.splice(o-1,2);return{cardList:s,cardKind:G.gameRule.PAIRS,size:2,val:s[0].val}}}else if(r._three.length>0)for(n=r._three.length-1;n>=0;n--)if(r._three[n].val>e.val)return{cardList:r._three[n].cardList.slice(0,2),cardKind:G.gameRule.PAIRS,size:2,val:r._three[n].val};return c;case G.gameRule.THREE:return t||r.player.isLandlord?r.matchCards(r._three,G.gameRule.THREE,e,t,a):null;case G.gameRule.THREE_WITH_ONE:if(!t&&!r.player.isLandlord)return null;if(l=r.minCards(r._three,G.gameRule.THREE,e.val)){if(!(g=r.minOne(2,l.val)))return null;l.cardList.push(g),l.cardKind=G.gameRule.THREE_WITH_ONE,l.size=4}return l;case G.gameRule.THREE_WITH_PAIRS:if(!t&&!r.player.isLandlord)return null;var l;if(l=r.minCards(r._three,G.gameRule.THREE,e.val)){for(var c=r.minCards(r._pairs,G.gameRule.PAIRS);c.cardList[0].val===l.val;)c=r.minCards(r._pairs,G.gameRule.PAIRS,c.cardList[0].val);if(!c)return null;l.cardList=l.cardList.concat(c.cardList),l.cardKind=G.gameRule.THREE_WITH_PAIRS,l.size=5}return l;case G.gameRule.PROGRESSION:if(!t&&!r.player.isLandlord)return null;if(r._progression.length>0)for(n=r._progression.length-1;n>=0;n--)if(e.val<r._progression[n].val&&e.size<=r._progression[n].cardList.length){if(e.size===r._progression[n].cardList.length)return r.setCardKind(r._progression[n],G.gameRule.PROGRESSION);if(r.player.isLandlord||t){var d=r._progression[n].val-e.val,u=r._progression[n].cardList.length-e.size;for(o=0;o<u;o++)d>1?(r._progression[n].cardList.shift(),r._progression[n].val--,d--):r._progression[n].cardList.pop();return r.setCardKind(r._progression[n],G.gameRule.PROGRESSION)}return null}return null;case G.gameRule.PROGRESSION_PAIRS:if(!t&&!r.player.isLandlord)return null;if(r._progressionPairs.length>0)for(n=r._progressionPairs.length-1;n>=0;n--)if(e.val<r._progressionPairs[n].val&&e.size<=r._progressionPairs[n].cardList.length){if(e.size===r._progressionPairs[n].cardList.length)return r.setCardKind(r._progressionPairs[n],G.gameRule.PROGRESSION_PAIRS);if(r.player.isLandlord||t){for(d=r._progressionPairs[n].val-e.val,u=(r._progressionPairs[n].cardList.length-e.size)/2,o=0;o<u;o++)d>1?(r._progressionPairs[n].cardList.shift(),r._progressionPairs[n].cardList.shift(),d--):(r._progressionPairs[n].cardList.pop(),r._progressionPairs[n].cardList.pop());return r.setCardKind(r._progressionPairs[n],G.gameRule.PROGRESSION_PAIRS)}return null}return null;case G.gameRule.PLANE:return t||r.player.isLandlord?r.minPlane(e.size,e):null;case G.gameRule.PLANE_WITH_ONE:if(!t&&!r.player.isLandlord)return null;var h=e.size/4;if(p=r.minPlane(3*h,e)){var f=2;for(n=0;n<h;n++){var g;if(!(g=r.minOne(f,p.val)))return null;p.cardList.push(g),f=g.val}p.cardKind=G.gameRule.PLANE_WITH_ONE,p.size=p.cardList.length}return p;case G.gameRule.PLANE_WITH_PAIRS:if(!t&&!r.player.isLandlord)return null;var p;h=e.size/5;if(p=r.minPlane(3*h,e)){var _=2;for(n=0;n<h;n++){if(!(c=r.minCards(r._pairs,G.gameRule.PAIRS,_)))return null;p.cardList=p.cardList.concat(c.cardList),_=c.val}p.cardKind=G.gameRule.PLANE_WITH_PAIRS,p.size=p.cardList.length}return p;case G.gameRule.BOMB:if(!t&&!r.player.isLandlord)return null;var v=r.minCards(r._bomb,G.gameRule.BOMB,e.val);return v||(r._kingBomb.length>0&&(t&&a<6||r.player.isLandlord&&r.player.cardList.length<6)?r.setCardKind(r._kingBomb[0],G.gameRule.KING_BOMB):null);case G.gameRule.FOUR_WITH_TWO:case G.gameRule.FOUR_WITH_TWO_PAIRS:return r.minCards(r._bomb,G.gameRule.BOMB,e.val);case G.gameRule.KING_BOMB:default:return null}}();return n||(e.cardKind!=G.gameRule.BOMB&&e.cardKind!=G.gameRule.KING_BOMB&&(r._bomb.length>0||r._kingBomb.length>0)?t&&a<5||r.player.isLandlord&&(r.player.cardList.length<5||r.player.nextPlayer.cardList.length<5||r.player.nextPlayer.nextPlayer.cardList.length<6)||r.times()<=2?r._bomb.length>0?r.minCards(r._bomb,G.gameRule.BOMB):r.setCardKind(r._kingBomb[0],G.gameRule.KING_BOMB):void 0:null)},s.prototype.play=function(e){var t=this;t.log();for(var a=function(e){for(var a=t.cards[e],r=0;r<t._one.length;r++)if(t._one[r].val===a.val)return t.minCards(t._one,G.gameRule.ONE);for(var n=0;n<t._pairs.length;n++)if(t._pairs[n].val===a.val)return t.minCards(t._pairs,G.gameRule.PAIRS);for(var i=0;i<t._three.length;i++)if(t._three[i].val===a.val)return t.minCards(t._three,G.gameRule.THREE);for(var o=0;o<t._bomb.length;o++)if(t._bomb[o].val===a.val)return t.minCards(t._bomb,G.gameRule.BOMB);for(var s=0;s<t._plane.length;s++)for(var l=0;l<t._plane[s].cardList.length;l++)if(t._plane[s].cardList[l].val===a.val&&t._plane[s].cardList[l].shape===a.shape)return t.minCards(t._plane,G.gameRule.PLANE);for(var c=0;c<t._progression.length;c++)for(l=0;l<t._progression[c].cardList.length;l++)if(t._progression[c].cardList[l].val===a.val&&t._progression[c].cardList[l].shape===a.shape)return t.minCards(t._progression,G.gameRule.PROGRESSION);for(var d=0;d<t._progressionPairs.length;d++)for(l=0;l<t._progressionPairs[d].cardList.length;l++)if(t._progressionPairs[d].cardList[l].val===a.val&&t._progressionPairs[d].cardList[l].shape===a.shape)return t.minCards(t._progressionPairs,G.gameRule.PROGRESSION_PAIRS);if(t._kingBomb.length>0)return t.minCards(t._kingBomb,G.gameRule.KING_BOMB)},r=t.cards.length-1;r>=0;r--){var n=a(r);if(n.cardKind!==G.gameRule.ONE){if(n.cardKind===G.gameRule.THREE){l=(u=t.minCards(t._three,G.gameRule.THREE)).cardList.length/3;if(t._one.length>0){d=t.minOne(c,u.val);return u.cardList.push(d),t.setCardKind(u,G.gameRule.THREE_WITH_ONE)}if(t._pairs.length>0){var i=t.minCards(t._pairs,G.gameRule.PAIRS,o);return u.cardList=u.cardList.concat(i.cardList),t.setCardKind(u,G.gameRule.THREE_WITH_PAIRS)}return t.setCardKind(u,G.gameRule.THREE)}if(n.cardKind===G.gameRule.PLANE){l=(s=t.minCards(t._plane,G.gameRule.PLANE)).cardList.length/3;if(t._one.length>l&&t._pairs.length>l){if(t._one.length>=t._pairs.length){for(c=2,r=0;r<l;r++){d=t.minOne(c,s.val);s.cardList.push(d),c=d.val}return t.setCardKind(s,G.gameRule.PLANE_WITH_ONE)}var o=2;for(r=0;r<l;r++){i=t.minCards(t._pairs,G.gameRule.PAIRS,o);s.cardList=s.cardList.concat(i.cardList),o=i.val}return t.setCardKind(s,G.gameRule.PLANE_WITH_PAIRS)}if(t._pairs.length>l){for(o=2,r=0;r<l;r++){i=t.minCards(t._pairs,G.gameRule.PAIRS,o);s.cardList=s.cardList.concat(i.cardList),o=i.val}return t.setCardKind(s,G.gameRule.PLANE_WITH_PAIRS)}if(t._one.length>l){for(c=2,r=0;r<l;r++){d=t.minOne(c,s.val);s.cardList.push(d),c=d.val}return t.setCardKind(s,G.gameRule.PLANE_WITH_ONE)}return t.setCardKind(s,G.gameRule.PLANE)}if(n.cardKind===G.gameRule.BOMB&&1===t.times())return n;if(n.cardKind===G.gameRule.BOMB&&1!=t.times())continue;return n}if(t._plane.length>0){for(var s,l=(s=t.minCards(t._plane,G.gameRule.PLANE)).cardList.length/3,c=2,r=0;r<l;r++){var d=t.minOne(c,s.val);s.cardList.push(d),c=d.val}return t.setCardKind(s,G.gameRule.PLANE_WITH_ONE)}if(t._three.length>0){var u,l=(u=t.minCards(t._three,G.gameRule.THREE)).cardList.length/3,d=t.minOne(c,u.val);if(u.cardList.push(d),u.val<14)return t.setCardKind(u,G.gameRule.THREE_WITH_ONE)}if(!t.player.isLandlord)return e<=2?t.playOneAtTheEnd(e):t.minCards(t._one,G.gameRule.ONE);if(t.player.isLandlord)return t.player.nextPlayer.cardList.length<=2||t.player.nextPlayer.nextPlayer.cardList.length<=2?t.playOneAtTheEnd(e):t.minCards(t._one,G.gameRule.ONE)}},s.prototype.playOneAtTheEnd=function(e){if(this._progression.length>0)return this.minCards(this._progression,G.gameRule.PROGRESSION);if(this._plane.length>0){var t=this.minCards(this._plane,G.gameRule.PLANE),a=t.cardList.length/3;if(this._one.length>a&&this._pairs.length>a){if(this._one.length>=this._pairs.length){for(var r=2,n=0;n<a;n++){var i=this.minOne(r,t.val);t.cardList.push(i),r=i.val}return this.setCardKind(t,G.gameRule.PLANE_WITH_ONE)}var o=2;for(n=0;n<a;n++){var s=this.minCards(this._pairs,G.gameRule.PAIRS,o);t.cardList=t.cardList.concat(s.cardList),o=s.val}return this.setCardKind(t,G.gameRule.PLANE_WITH_PAIRS)}if(this._pairs.length>a){for(o=2,n=0;n<a;n++){s=this.minCards(this._pairs,G.gameRule.PAIRS,o);t.cardList=t.cardList.concat(s.cardList),o=s.val}return this.setCardKind(t,G.gameRule.PLANE_WITH_PAIRS)}if(this._one.length>a){for(r=2,n=0;n<a;n++){i=this.minOne(r,t.val);t.cardList.push(i),r=i.val}return this.setCardKind(t,G.gameRule.PLANE_WITH_ONE)}return this.setCardKind(t,G.gameRule.PLANE)}if(this._progressionPairs.length>0)return this.minCards(this._progressionPairs,G.gameRule.PROGRESSION_PAIRS);if(this._three.length>0){var l=this.minCards(this._three,G.gameRule.THREE);a=l.cardList.length/3;if(this._one.length>=0){i=this.minOne(r,l.val);return l.cardList.push(i),this.setCardKind(l,G.gameRule.THREE_WITH_ONE)}if(this._pairs.length>0){s=this.minCards(this._pairs,G.gameRule.PAIRS,o);return l.cardList=l.cardList.concat(s.cardList),this.setCardKind(l,G.gameRule.THREE_WITH_PAIRS)}return this.setCardKind(l,G.gameRule.THREE)}if(this._pairs.length>0)return this.player.isLandlord&&(2===this.player.nextPlayer.cardList.length||2===this.player.nextPlayer.nextPlayer.cardList.length)||!this.player.isLandlord&&2===e?this.maxCards(this._pairs,G.gameRule.PAIRS):this.minCards(this._pairs,G.gameRule.PAIRS);if(this._one.length>0)return this.player.isLandlord&&(this.player.nextPlayer.cardList.length<=2||this.player.nextPlayer.nextPlayer.cardList.length<=2)||!this.player.isLandlord&&e<=2?this.maxCards(this._one,G.gameRule.ONE):this.minCards(this._one,G.gameRule.ONE);i=null;return i=this.player.isLandlord&&(this.player.nextPlayer.cardList.length<=2||this.player.nextPlayer.nextPlayer.cardList.length<=2)||!this.player.isLandlord&&e<=2?this.cards.slice(-1):this.cards.slice(0,1),{size:1,cardKind:G.gameRule.ONE,cardList:i,val:i[0].val}},s.prototype.prompt=function(e){var t=this,a=G.gameRule.valCount(t.cards);if(e){var n=[],i=function(e,a,r){for(var n=[],i=r.length-1;i>=0;i--)(r[i].count<e||r[i].val<=a)&&r.splice(i,1);r.sort(t.promptSort);for(var o=0;o<r.length;o++){for(var s=r[o].val,l=[],c=t.cards,d=c.length-1;d>=0;d--)if(c[d].val===s){if(!(l.length<e))break;l.push(c[d])}l.length&&n.push(l)}return n},o=function(a){var r=[];if(e.val<14&&t.cards.length>=e.size)for(var n=e.val+1;n<15;n++)for(var i=[],o=0;o<t.cards.length&&!(t.cards[o].val<n&&0===i.length);o++)if(!(t.cards[o].val>n||i.length>0&&t.cards[o].val===i[i.length-1].val))if(t.cards[o].val===n&&t.cards[o+1]&&t.cards[o+1].val===n&&t.cards[o+2]&&t.cards[o+2].val===n&&0===i.length)i=i.concat(t.cards.slice(o,o+3)),o+=2;else{if(!(i.length>0&&i[i.length-1].val-1===t.cards[o].val&&t.cards[o+1]&&i[i.length-1].val-1===t.cards[o+1].val&&t.cards[o+2]&&i[i.length-1].val-1===t.cards[o+2].val))break;if(i=i.concat(t.cards.slice(o,o+3)),o+=2,i.length===3*a){r.push(i);break}}return r};switch(e.cardKind){case G.gameRule.ONE:n=i(1,e.val,a);break;case G.gameRule.PAIRS:n=i(2,e.val,a);break;case G.gameRule.THREE:n=i(3,e.val,a);break;case G.gameRule.THREE_WITH_ONE:for(var s=i(3,e.val,a.slice(0)),l=i(1,2,a.slice(0)),c=0;c<s.length;c++)for(var d=0;d<l.length;d++)l[d][0].val!=s[c][0].val&&n.push(s[c].concat(l[d]));break;case G.gameRule.THREE_WITH_PAIRS:s=i(3,e.val,a.slice(0));var u=i(2,2,a.slice(0));for(c=0;c<s.length;c++)for(d=0;d<u.length;d++)u[d][0].val!=s[c][0].val&&n.push(s[c].concat(u[d]));break;case G.gameRule.PROGRESSION:if(e.val<14&&t.cards.length>=e.size)for(c=e.val+1;c<15;c++){var h=[];for(d=0;d<t.cards.length&&!(t.cards[d].val<c&&0===h.length);d++)if(!(t.cards[d].val>c||h.length>0&&t.cards[d].val===h[h.length-1].val))if(t.cards[d].val!==c||0!==h.length){if(h[h.length-1].val-1!==t.cards[d].val)break;if(h.push(t.cards.slice(d,d+1)[0]),h.length===e.size){n.push(h);break}}else h.push(t.cards.slice(d,d+1)[0])}break;case G.gameRule.PROGRESSION_PAIRS:if(e.val<14&&t.cards.length>=e.size)for(c=e.val+1;c<15;c++)for(h=[],d=0;d<t.cards.length&&!(t.cards[d].val<c&&0===h.length);d++)if(!(t.cards[d].val>c||h.length>0&&t.cards[d].val===h[h.length-1].val))if(t.cards[d].val===c&&t.cards[d+1]&&t.cards[d+1].val===c&&0===h.length)h=h.concat(t.cards.slice(d,d+2)),d++;else{if(!(h.length>0&&h[h.length-1].val-1===t.cards[d].val&&t.cards[d+1]&&h[h.length-1].val-1===t.cards[d+1].val))break;if(h=h.concat(t.cards.slice(d,d+2)),d++,h.length===e.size){n.push(h);break}}break;case G.gameRule.PLANE:n=o(e.size/3);break;case G.gameRule.PLANE_WITH_ONE:n=o(e.size/4);break;case G.gameRule.PLANE_WITH_PAIRS:n=o(e.size/5);break;case G.gameRule.FOUR_WITH_TWO:case G.gameRule.FOUR_WITH_TWO_PAIRS:case G.gameRule.BOMB:n=i(4,e.val,a)}if(e.cardKind!=G.gameRule.KING_BOMB&&e.cardKind!=G.gameRule.BOMB&&t._bomb.length>0)for(c=t._bomb.length-1;c>=0;c--)n.push(t._bomb[c].cardList);return e.cardKind!=G.gameRule.KING_BOMB&&t._kingBomb.length>0&&n.push(t._kingBomb[0].cardList),n}return n=[].concat(r(t._one),r(t._pairs),r(t._progressionPairs),r(t._progression),r(t._plane),r(t._three),r(t._bomb),r(t._kingBomb)).map(function(e){return e.cardList&&e.cardList}).filter(function(e){return e})},s.prototype.getMinVal=function(e,t){for(var a=G.gameRule.valCount(this.cards),r=a.length-1;r>=0;r--)if(a[r].count===e&&a[r].val>t)return this.cards.splice(r,1)},s.prototype.analyse=function(){var e=this.cards.slice(0),t=null,a=null,r=null;this._one=[],this._pairs=[],this._kingBomb=[],this._bomb=[],this._three=[],this._plane=[],this._progression=[],this._progressionPairs=[],e.sort(G.gameRule.cardSort),G.gameRule.isKingBomb(e.slice(0,2))&&this._kingBomb.push(l(17,e.splice(0,2))),t=G.gameRule.valCount(e);for(var n=0;n<t.length;n++)if(4===t[n].count){var i=[];this.moveItem(e,i,t[n].val),this._bomb.push(l(i[0].val,i))}a=e.slice(0).slice(0),this.judgeThree(a),this.judgePlane();for(var o=0;o<this._three.length;o++)a=a.concat(this._three[o].cardList);this._three=[],a.sort(G.gameRule.cardSort),r=a.slice(0),this.judgeProgression(r),this.judgeProgressionPairs(r),this.judgeThree(r),t=G.gameRule.valCount(r);for(var s=0;s<t.length;s++)if(1===t[s].count)for(var c=0;c<r.length;c++)r[c].val===t[s].val&&this._one.push(l(t[s].val,r.splice(c,1)));else if(2===t[s].count)for(c=0;c<r.length;c++)r[c].val===t[s].val&&this._pairs.push(l(t[s].val,r.splice(c,2)));this._one.sort(function(e,t){return t.val-e.val}),this._pairs.sort(function(e,t){return t.val-e.val}),this._kingBomb.sort(function(e,t){return t.val-e.val}),this._bomb.sort(function(e,t){return t.val-e.val}),this._three.sort(function(e,t){return t.val-e.val}),this._plane.sort(function(e,t){return t.val-e.val}),this._progression.sort(function(e,t){return t.val-e.val}),this._progressionPairs.sort(function(e,t){return t.val-e.val})},s.prototype.judgeThree=function(e){for(var t=G.gameRule.valCount(e),a=0;a<t.length;a++)if(3===t[a].count){var r=[];this.moveItem(e,r,t[a].val),this._three.push(l(r[0].val,r))}},s.prototype.judgePlane=function(){if(this._three.length>1){for(var e=[],t=0;t<this._three.length;t++)if(!(this._three[t].val>=15))if(0!=e.length)if(e[e.length-1].val-1==this._three[t].val)e.push({obj:this._three[t],fromIndex:t});else{if(e.length>1){for(var a=[],r=0;r<e.length;r++)a=a.concat(e[r].obj.cardList);this._plane.push(l(e[0].obj.val,a));for(var n=e.length-1;n>=0;n--)this._three.splice(e[n].fromIndex,1)}(e=[]).push({obj:this._three[t],fromIndex:t})}else e.push({obj:this._three[t],fromIndex:t});if(e.length>1){for(a=[],r=0;r<e.length;r++)a=a.concat(e[r].obj.cardList);this._plane.push(l(e[0].obj.val,a));for(n=e.length-1;n>=0;n--)this._three.splice(e[n].fromIndex,1)}}},s.prototype.judgeProgression=function(e){var t=this;if(e.length>=5){for(var a=[],r=0;r<e.length;r++)if(!(e[r].val>=15))if(0!=a.length)if(a[a.length-1].obj.val-1===e[r].val){if(a.push({obj:e[r],fromIndex:r}),5===a.length)break}else{if(a[a.length-1].obj.val===e[r].val)continue;if(a.length>=5)break;(a=[]).push({obj:e[r],fromIndex:r})}else a.push({obj:e[r],fromIndex:r});5===a.length?(function(a){for(var r=[],n=0;n<a.length;n++)r.push(a[n].obj);t._progression.push(l(a[0].obj.val,r));for(var i=a.length-1;i>=0;i--)e.splice(a[i].fromIndex,1)}(a),t.judgeProgression(e)):t.joinProgression(e)}},s.prototype.joinProgression=function(e){for(var t=0;t<this._progression.length;t++)for(var a=0;a<e.length;a++)14!=this._progression[t].val&&this._progression[t].val===e[a].val-1?this._progression[t].cardList.unshift(e.splice(a,1)[0]):e[a].val===this._progression[t].val-this._progression[t].cardList.length&&this._progression[t].cardList.push(e.splice(a,1)[0]);for(var r=this._progression.slice(0),n=0;n<r.length;n++)n<r.length-1&&r[n].val-r[n].cardList.length===r[n+1].val&&(this._progression[n].cardList=this._progression[n].cardList.concat(this._progression[n+1].cardList),this._progression.splice(++n,1))},s.prototype.judgeProgressionPairs=function(e){var t=this;if(e.length>=6){for(var a=[],r=G.gameRule.valCount(e),n=0;n<r.length;n++)if(!(r[n].val>=15))if(0==a.length&&r[n].count>=2)a.push(r[n].val);else if(a[a.length-1]-1===r[n].val&&r[n].count>=2)a.push(r[n].val);else{if(a.length>=3)break;a=[],r[n].count>=2&&a.push(r[n].val)}a.length>=3&&(function(a){for(var r=[],n=a.length-1;n>=0;n--)for(var i=0;i<e.length;i++)if(e[i].val===a[n]){r=r.concat(e.splice(i,2));break}r.sort(G.gameRule.cardSort),t._progressionPairs.push(l(a[0],r))}(a),t.judgeProgressionPairs(e))}},s.prototype.moveItem=function(e,t,a){for(var r=e.length-1;r>=0;r--)e[r].val===a&&t.push(e.splice(r,1)[0])},s.prototype.setCardKind=function(e,t){return e.cardKind=t,e.size=e.cardList.length,e},s.prototype.minPlane=function(e,t){if(this._plane.length>0)for(var a=this._plane.length-1;a>=0;a--)if(t.val<this._plane[a].val&&e<=this._plane[a].cardList.length){if(e===this._plane[a].cardList.length)return this.setCardKind(this._plane[a],G.gameRule.PLANE);for(var r=this._plane[a].val-t.val,n=(this._plane[a].cardList.length-e)/3,i=0;i<n;i++)if(r>1){for(var o=0;o<3;o++)this._plane[a].cardList.shift();r--}else for(o=0;o<3;o++)this._plane[a].cardList.pop();return this.setCardKind(this._plane[a],G.gameRule.PLANE)}return null},s.prototype.minCards=function(e,t,a){if(a=a||2,e.length>0)for(var r=e.length-1;r>=0;r--)if(a<e[r].val)return this.setCardKind(e[r],t);return null},s.prototype.maxCards=function(e,t,a){var r=null;if(e.length>0){for(var n=0;n<e.length;n++)(r&&e[n].val>r.val||!r)&&(r=e[n]);return a?r.val>a?this.setCardKind(r,t):null:this.setCardKind(r,t)}return null},s.prototype.matchCards=function(e,t,a,r,n){if(this.player.isLandlord)return this.player.nextPlayer.cardList.length<3||this.player.nextPlayer.nextPlayer.cardList.length<3?this.maxCards(e,t,a.val):this.minCards(e,t,a.val);if(r)return n<3?this.maxCards(e,t,a.val):this.minCards(e,t,a.val);var i=null;return this.player.nextPlayer.isLandlord&&this.player.nextPlayer.cardList.length<3?this.maxCards(e,t,a.val):(i=this.minCards(e,t,a.val))&&(i.val<14||this.times()<=2)?i:null},s.prototype.minOne=function(e,t){var a=this.minCards(this._one,G.gameRule.ONE,e),r=this.offPairs(t);return a?a.val>14?r?(this.deleteOne(r),r):null:a.cardList[0]:r?(this.deleteOne(r),r):null},s.prototype.offPairs=function(e,t){var a=this.minCards(this._pairs,G.gameRule.PAIRS,e);if(a)for(;a.cardList[0].val===t;)a=this.minCards(this._pairs,G.gameRule.PAIRS,a.cardList[0].val);return a?a.cardList[0]:null},s.prototype.deleteOne=function(e){for(var t=0;t<this.cards.length;t++)this.cards[t].val===e.val&&this.cards[t].shape===e.shape&&this.cards.splice(t,1);this.analyse()},s.prototype.judgeScore=function(){var e=0;e+=6*this._bomb.length,this._kingBomb.length>0?e+=8:17===this.cards[0].val?e+=4:16===this.cards[0].val&&(e+=3);for(var t=0;t<this.cards.length;t++)15===this.cards[t].val&&(e+=2);return console.info(this.player.userId+"\u624b\u724c\u8bc4\u5206\uff1a"+e),e>=7?3:e>=5?2:e>=3?1:4},s.prototype.promptSort=function(e,t){return e.count===t.count?e.val>t.val?1:-1:e.count<t.count?-1:1},s.prototype.times=function(){var e=this._kingBomb.length+this._bomb.length+this._progression.length+this._progressionPairs.length+this._one.length+this._pairs.length,t=this._three.length;if(this._plane.length>0)for(var a=0;a<this._plane.length;a++)t+=this._plane[a].cardList.length/3;return t-(this._one.length+this._pairs.length)>0&&(e+=t-(this._one.length+this._pairs.length)),e},s.prototype.log=function(){console.info("\u4ee5\u4e0b\u663e\u793a\u3010"+this.player.userId+"\u3011\u624b\u724c\u6982\u51b5\uff0c\u624b\u6570\uff1a"+this.times()),console.info("\u738b\u70b8"),console.info(this._kingBomb),console.info("\u70b8\u5f39"),console.info(this._bomb),console.info("\u4e09\u6839"),console.info(this._three),console.info("\u98de\u673a"),console.info(this._plane),console.info("\u987a\u5b50"),console.info(this._progression),console.info("\u8fde\u5bf9"),console.info(this._progressionPairs),console.info("\u5355\u724c"),console.info(this._one),console.info("\u5bf9\u5b50"),console.info(this._pairs)},t.exports=s,cc._RF.pop()},{}],DataNotify:[function(e,t,a){"use strict";cc._RF.push(t,"584b49biaxFy6ixx1Xpv6D5","DataNotify");var r=cc.Class({ctor:function(){var e=arguments[0];this._listeners=[],this.setData(e)},addListener:function(e,t){cc.assert(e);var a={callback:e,target:t},r=!0,n=!1,i=void 0;try{for(var o,s=this._listeners[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){if(t===o.value.target)return}}catch(e){n=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}this._listeners.push(a)},removeListener:function(e,t){var a=!0,r=!1,n=void 0;try{for(var i,o=this._listeners[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var s=i.value;if(t===s.target){cc.js.array.remove(this._listeners,s);break}}}catch(e){r=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(r)throw n}}},getData:function(){return this._data},setData:function(e){this._oldData=this._data,this._data=e,this._tryBindArrayFunction(),this.update()},_tryBindArrayFunction:function(){if(this._data instanceof Array){var e=this,t=Object.create(Array.prototype);["shift","unshift","push","pop","splice"].forEach(function(a){Object.defineProperty(t,a,{value:function(){var t=Array.prototype[a].apply(this,arguments);return e.update(),t}})}),this._data.__proto__=t}},update:function(){var e=this;this._listeners.forEach(function(t){t.callback.call(t.target,e._data,e._oldData)})},statics:{create:function(e,t,a){var n=new r(a);return Object.defineProperty(e,t,{get:function(){return n.getData()},set:function(e){return n.setData(e)}}),n},factory:function(e,t,a){e[t]=void 0,e[t+"Notify"]=this.create(e,t,a)}}});t.exports=r,cc._RF.pop()},{}],audioManager:[function(e,t,a){"use strict";cc._RF.push(t,"2fa90yaj29Er5pE1YHOJS9f","audioManager"),t.exports={_MusicId:null,_LastMusicClip:null,_PauseMusic:!1,isPlayedAudio:!1,_effectVolume:1,PlayMusic:function(e,t){this.MusicClip=e||this.MusicClip,cc.log("=========this.MusicClip========="+this.MusicClip),this._LastMusicClip=e,cc.audioEngine.stopAll();var a=cc.audioEngine.playMusic(this.MusicClip,!0);this._MusicId=a,t&&cc.audioEngine.setFinishCallback(a,t)},StopMusic:function(){cc.audioEngine.stopMusic(),this._LastMusicClip=null},HidePagePause:function(){console.log("HidePagePause",this._MusicId);try{this._MusicId&&(this._PauseMusic=!0,cc.audioEngine.setVolume(this._MusicId,0),cc.audioEngine.pause(this._MusicId))}catch(e){console.log("HidePagePause---error==",e)}},ShowPageResume:function(){console.log("ShowPageResume",this._MusicId);try{this._MusicId&&(this._PauseMusic=!1,cc.audioEngine.setVolume(this._MusicId,1),cc.audioEngine.resume(this._MusicId))}catch(e){console.log("ShowPageResume---error==",e)}},PauseMusic:function(){console.log("\u6682\u505c\u64ad\u653e\u97f3\u4e50"),cc.audioEngine.setVolume(this._MusicId,0),cc.audioEngine.pause(this._MusicId)},stopAll:function(){cc.audioEngine.stopAll()},ResumeMusic:function(){console.log("\u6062\u590d\u64ad\u653e\u97f3\u4e50"),cc.audioEngine.setVolume(this._MusicId,1),cc.audioEngine.resume(this._MusicId)},setMusicVolume:function(e){cc.audioEngine.setVolume(this._MusicId,e)},setEffectVolume:function(e){this._effectVolume=e},PlayEffect:function(e,t){if(!this._PauseMusic){if(e){var a=cc.audioEngine.playEffect(e,!1);return cc.audioEngine.setVolume(a,this._effectVolume),this.isPlayedAudio=!0,t&&cc.audioEngine.setFinishCallback(a,t),a}return null}},PlayEffectGirlSound:function(e,t){if(!this._PauseMusic){if(e){var a=cc.audioEngine.playEffect(e,!1);return this.isPlayedAudio=!0,t&&cc.audioEngine.setFinishCallback(a,t),a}return null}},StopEffect:function(e){cc.audioEngine.stop(e)},ToggleMusic:function(e){e.isChecked?cc.audioEngine.isMusicPlaying()||this.PlayMusic():this.StopMusic()},ToggleEffects:function(e){}},cc._RF.pop()},{}],carder:[function(e,t,r){"use strict";cc._RF.push(t,"24351ymQ91J27jpDGxDlazN","carder");var n=function(e,t,a){var r={index:-1};return e&&(r.value=e,r.val=e+2),t&&(r.shape=t),void 0!=a&&(r.king=a,r.value=a,r.val=a+2,r.shape=0),r},i={A:12,2:13,3:1,4:2,5:3,6:4,7:5,8:6,9:7,10:8,J:9,Q:10,K:11},o={S:1,H:2,C:3,D:4},s={kx:14,Kd:15};t.exports=function(){var e={card_list:[]},t=function(){for(var t=e.card_list.length-1;t>=0;t--){var a=Math.floor(Math.random()*(t+1)),r=e.card_list[a];e.card_list[a]=e.card_list[t],e.card_list[t]=r}return e.card_list},r=function(){for(var a in e.card_list=[],i)for(var r in o){var l=n(i[a],o[r],void 0);l.index=e.card_list.length,e.card_list.push(l)}for(var c in s){var d=n(void 0,void 0,s[c]);d.index=e.card_list.length,e.card_list.push(d)}t()};e.splitThreeCards=function(){r();for(var t={},a=0;a<17;a++)for(var n=0;n<3;n++)t.hasOwnProperty(n)?t[n].push(e.card_list.pop()):t[n]=[e.card_list.pop()];return[t[0],t[1],t[2],e.card_list]};var l=function(e){return 1===e.length},c=function(e){return 2==e.length&&void 0!=e[0].card_data.value&&e[0].card_data.value==e[1].card_data.value},d=function(e){return 3==e.length&&void 0!=e[0].card_data.value&&void 0!=e[1].card_data.value&&e[0].card_data.value==e[1].card_data.value&&e[0].card_data.value==e[2].card_data.value&&e[1].card_data.value==e[2].card_data.value},u=function(e){return 4==e.length&&void 0!=e[1].card_data.value&&void 0!=e[2].card_data.value&&(e[0].card_data.value==e[1].card_data.value&&e[1].card_data.value==e[2].card_data.value||e[1].card_data.value==e[2].card_data.value&&e[2].card_data.value==e[3].card_data.value)},h=function(e){if(5!=e.length)return!1;if(e[0].card_data.value==e[1].card_data.value&&e[1].card_data.value==e[2].card_data.value){if(e[3].card_data.value==e[4].card_data.value)return!0}else if(e[2].card_data.value==e[3].card_data.value&&e[3].card_data.value==e[4].card_data.value&&e[0].card_data.value==e[1].card_data.value)return!0;return!1},f=function(e){if(4!=e.length)return!1;for(var t={},a=0;a<e.length;a++)t.hasOwnProperty(e[a].card_data.value)?t[e[a].card_data.value]++:t[e[a].card_data.value]=1;return 1==Object.keys(t).length},g=function(e){return 2==e.length&&void 0!=e[0].card_data.king&&void 0!=e[1].card_data.king},p=function(e){if(6!=e.length)return!1;for(var t={},a=0;a<e.length;a++)t.hasOwnProperty(e[a].card_data.value)?t[e[a].card_data.value]++:t[e[a].card_data.value]=1;var r=Object.keys(t);if(console.log("IsPlan keys"+r),2==r.length){for(var n in t)if(3!=t[n])return!1;var i=Number(r[0]),o=Number(r[1]);return 1==Math.abs(i-o)}return!1},_=function(e){if(8!=e.length)return!1;for(var t={},a=0;a<e.length;a++)t.hasOwnProperty(e[a].card_data.value)?t[e[a].card_data.value]++:t[e[a].card_data.value]=1;var r=Object.keys(t);if(console.log("IsPlan keys"+r),4!=r.length)return!1;var n=[],i=0;for(var a in t)3==t[a]?n.push(a):1==t[a]&&i++;if(2!=n.length||2!=i)return!1;var o=Number(n[0]),s=Number(n[1]);return 1==Math.abs(o-s)},v=function(e){if(10!=e.length)return!1;for(var t={},a=0;a<e.length;a++)t.hasOwnProperty(e[a].card_data.value)?t[e[a].card_data.value]++:t[e[a].card_data.value]=1;if(4!=Object.keys(t).length)return!1;var r=[],n=0;for(var a in t)3==t[a]?r.push(a):2==t[a]&&n++;if(2!=r.length||2!=n)return!1;var i=Number(r[0]),o=Number(r[1]);return 1==Math.abs(i-o)},m=function(e){if(e.length<5||e.length>12)return!1;for(var t=e,a=0;a<t.length;a++)if(13==t[a].card_data.value||14==t[a].card_data.value||15==t[a].card_data.value)return!1;for(t.sort(function(e,t){return Number(e.card_data.value)-Number(t.card_data.value)}),a=0;a<t.length&&a+1!=t.length;a++){var r=Number(t[a].card_data.value),n=Number(t[a+1].card_data.value);if(1!=Math.abs(r-n))return!1}return!0},y=function(e){if(e.length<6||e.length>24)return!1;for(var t=0;t<e.length;t++)if(14==e[t].card_data.value||15==e[t].card_data.value||13==e[t].card_data.value)return!1;var a={};for(t=0;t<e.length;t++)a.hasOwnProperty(e[t].card_data.value)?a[e[t].card_data.value]++:a[e[t].card_data.value]=1;for(var r in a)if(2!=a[r])return!1;var n=Object.keys(a);if(n.length<3)return!1;for(n.sort(function(e,t){return Number(e)-Number(t)}),t=0;t<n.length&&t+1!=n.length;t++){var i=Number(n[t]),o=Number(n[t+1]);if(1!=Math.abs(i-o))return!1}return!0},b={one:{name:"One",value:1},double:{name:"Double",value:1},three:{name:"Three",value:1},boom:{name:"Boom",value:2},threeWithOne:{name:"ThreeWithOne",value:1},threeWithTwo:{name:"ThreeWithTwo",value:1},plane:{name:"Plane",value:1},planeWithOne:{name:"PlaneWithOne",value:1},planeWithTwo:{name:"PlaneWithTwo",value:1},scroll:{name:"Scroll",value:1},doubleScroll:{name:"DoubleScroll",value:1},kingboom:{name:"kingboom",value:3}},R=function(e,t){return console.log("compareOne"),!((void 0==e[0].card_data.value?e[0].card_data.king:e[0].card_data.value)>=(void 0==t[0].card_data.value?t[0].card_data.king:t[0].card_data.value))},I=function(e,t){return console.log("compareDouble"),R(e,t)},P=function(e,t){return console.log("compareThree"),R(e,t)},S=function(e,t){console.log("compareBoom");var a=!1;return 4==e.length&&4==t.length&&(a=R(e,t)),a},C=function(e,t){return 2==t.length},L=function(e,t){for(var a=[],r=[],n={},i=0;i<e.length;i++)n.hasOwnProperty(e.card_data.value)?a.push(e):n[e.card_data.value]=1;for(i=0;i<t.length;i++)n.hasOwnProperty(t.card_data.value)?r.push(t):n[t.card_data.value]=1;return R(e,t)},N=function(e,t){for(var a={},r={},n=0;n<e.length;n++)a.hasOwnProperty(e[n].card_data.value)?a[e[n].card_data.value].push(e[n]):a[e[n].card_data.value]=[e[n]];for(n=0;n<t.length;n++)r.hasOwnProperty(t[n].card_data.value)?r[t[n].card_data.value].push(t[n]):r[t[n].card_data.value]=[t[n]];var i=[];for(var n in a)3===a[n].length&&(i=a[n]);var o=[];for(var n in r)3===r[n].length&&(o=r[n]);return R(i,o)},O=function(e,t){for(var a={},r=0;r<e.length;r++)a.hasOwnProperty(e[r].card_data.value)?a[e[r].card_data.value].push(e[r]):a[e[r].card_data.value]=[e[r]];var n=[],i=16;for(var r in a)Number(r)<i&&(i=Number(r),n=a[r]);var o={};for(r=0;r<t.length;r++)o.hasOwnProperty(t[r].card_data.value)?o[t[r].card_data.value].push(t[r]):o[t[r].card_data.value]=[t[r]];i=16;var s=[];for(var r in o)Number(r)<i&&(i=Number(r),s=o[r]);return P(n,s)},E=function(e,t){for(var a={},r=[],n=0;n<e.length;n++)a.hasOwnProperty(e[n].card_data.value)?r.push(e[n]):a[e[n].card_data.value]=[e[n]];var i={},o=[];for(n=0;n<t.length;n++)i.hasOwnProperty(t[n].card_data.value)?o.push(t[n]):i[t[n].card_data.value]=[t[n]];return O(r,o)},w=function(e,t){for(var a={},r=0;r<e.length;r++)a.hasOwnProperty(e[r].card_data.value)?a[e[r].card_data.value].push(e[r]):a[e[r].card_data.value]=[e[r]];var n={};for(r=0;r<t.length;r++)n.hasOwnProperty(t[r].card_data.value)?n[t[r].card_data.value].push(t[r]):n[t[r].card_data.value]=[t[r]];var i=[];for(var r in a)if(3===a[r].length)for(var o=0;o<a[r].length;o++)i.push(a[r][o]);console.log("list a = "+JSON.stringify(i));var s=[];for(var r in n)if(3===n[r].length)for(o=0;o<n[r].length;o++)s.push(n[r][o]);return O(i,s)},A=function(e,t){if(console.log("compareScroll"),e.length!=t.length)return!1;for(var a=100,r=0;r<e.length;r++)e[r].card_data.value<a&&(a=e[r].card_data.value);for(var n=100,i=0;i<t.length;i++)t[i].card_data.value<n&&(n=t[i].card_data.value);return console.log("min a = "+a),console.log("min b = "+n),a<=n},k=function(e,t){for(var r={},n=[],i=0;i<e.length;i++)r.hasOwnProperty(e[i].card_data.value)||(r[e[i].card_data.value]=!0,n.push(a[i]));var o={},s=[];for(i=0;i<t.length;i++)o.hasOwnProperty(t[i].card_data.value)||(o[t[i].card_data.value]=!0,s.push(t[i]));return console.log("list a = "+JSON.stringify(n)),console.log("list b = "+JSON.stringify(s)),A(n,s)},T=function(e,t,a){var r=!1;switch(a.name){case b.one.name:r=R(e,t);break;case b.double.name:r=I(e,t);break;case b.three.name:r=P(e,t);break;case b.boom.name:r=S(e,t);break;case b.kingboom.name:r=C(0,t);break;case b.planeWithOne.name:r=L(e,t);break;case b.planeWithTwo.name:r=N(e,t);break;case b.plane.name:r=O(e,t);break;case b.planeWithOne.name:r=E(e,t);break;case b.planeWithTwo.name:r=w(e,t);break;case b.scroll.name:r=A(e,t);break;case b.doubleScroll.name:r=k(e,t);break;default:console.log("no found card value!"),r=!1}return r};e.compareWithCard=function(e,t){return console.log("last_cards"+JSON.stringify(e)),console.log("current_cards"+JSON.stringify(t)),card_last_value=G(e),card_current_value=G(t),e.value<t.value?(console.log("compareWithCard less"),!0):e.value==t.value&&card_last_value.name==card_current_value.name&&T(e,t,card_last_value)},e.IsCanPushs=function(e){return l(e)?(console.log("isOneCard sucess"),b.one):c(e)?(console.log("IsDoubleCard sucess"),b.double):d(e)?(console.log("Isthree sucess"),b.three):u(e)?(console.log("IsThreeAndOne sucess"),b.threeWithOne):h(e)?(console.log("IsThreeAndTwo sucess"),b.threeWithTwo):f(e)?(console.log("IsBoom sucess"),b.boom):g(e)?(console.log("IsKingBoom sucess"),b.kingboom):p(e)?(console.log("IsPlan sucess"),b.plane):_(e)?(console.log("IsPlanWithSing sucess"),b.planeWithOne):v(e)?(console.log("IsPlanWithDouble sucess"),b.planeWithTwo):m(e)?(console.log("IsShunzi sucess"),b.scroll):y(e)?(console.log("IsLianDui sucess"),b.DoubleScroll):void 0};var G=e.IsCanPushs;return e}(),cc._RF.pop()},{}],card:[function(e,t,a){"use strict";cc._RF.push(t,"2afe8rz92BOl7CbQfKSCoLh","card");var r=function(e){return e&&e.__esModule?e:{default:e}}(e("../../mygolbal.js"));var n=e("ddzData"),i=e("ddzConstants");cc.Class({extends:cc.Component,properties:{cards_sprite_atlas:cc.SpriteAtlas},onLoad:function(){this.flag=!1,this.offset_y=20,this.node.on("reset_card_flag",function(e){this.flag&&(this.flag=!1,this.node.y-=this.offset_y)}.bind(this))},runToCenter:function(){},start:function(){},init_data:function(e){},setTouchEvent:function(){this.userId==r.default.playerData.userId&&this.node.on(cc.Node.EventType.TOUCH_START,function(e){n.gameState===i.gameState.PLAYING&&(console.log("TOUCH_START id:"+this.caardIndex),this.flag?(this.flag=!1,this.node.y-=this.offset_y,$socket.emit("_unchooseCard",this.caardIndex)):(this.flag=!0,this.node.y+=this.offset_y,$socket.emit("_chooseCard",this.card_data)))}.bind(this))},showCards:function(e,t){this.caardIndex=e.index,this.card_data=e,t&&(this.userId=t);var a="";a=e.shape?"card_"+(13*{1:3,2:2,3:1,4:0}[e.shape]+{12:1,13:2,1:3,2:4,3:5,4:6,5:7,6:8,7:9,8:10,9:11,10:12,11:13}[e.value]):"card_"+{14:54,15:53}[e.king],this.node.getComponent(cc.Sprite).spriteFrame=this.cards_sprite_atlas.getSpriteFrame(a),this.setTouchEvent()}}),cc._RF.pop()},{"../../mygolbal.js":"mygolbal",ddzConstants:"ddzConstants",ddzData:"ddzData"}],common:[function(e,t,a){"use strict";cc._RF.push(t,"57aa9YWfKhKU5mVkposV4md","common");var r={audio:e("audioManager"),getRandomStr:function(e){for(var t="",a=0;a<e;a++)t+=Math.floor(10*Math.random());return t},random:function(e,t){return Math.round(Math.random()*(t-e)+e)}};t.exports=r,cc._RF.pop()},{audioManager:"audioManager"}],creatRoom:[function(e,t,a){"use strict";cc._RF.push(t,"e85c8xPVuxKX5zdxLJ1e12h","creatRoom");var r=function(e){return e&&e.__esModule?e:{default:e}}(e("../../mygolbal.js"));cc.Class({extends:cc.Component,properties:{},start:function(){},onBtnClose:function(){this.node.destroy()},onButtonClick:function(e,t){var a=defines.jdRoomConfig["rate_"+t],n=a.bottom,i=a.rate,o="".concat(i,"_").concat(n,"_").concat(Math.floor(1e3*Math.random()));r.default.playerData.bottom=n,r.default.playerData.rate=i,r.default.playerData.roomId=o,cc.sys.localStorage.setItem("userData",JSON.stringify(r.default.playerData)),cc.director.loadScene("gameScene"),this.node.destroy()}}),cc._RF.pop()},{"../../mygolbal.js":"mygolbal"}],ddzConstants:[function(e,t,a){"use strict";cc._RF.push(t,"492f7UclO1Ima0pSFxOewO/","ddzConstants"),t.exports={gameState:{INVALID:-1,WAITREADY:1,GAMESTART:2,PUSHCARD:3,ROBSTATE:4,SHOWBOTTOMCARD:5,PLAYING:6,GAMEEND:7},_pokersFrame:null,_chipsFrame:null},cc._RF.pop()},{}],ddzData:[function(e,t,a){"use strict";cc._RF.push(t,"75b6fuQrzRI4YWCp6tpiV9Y","ddzData");e("ddzConstants");var r=e("DataNotify");t.exports={gameState:-1,initData:function(){this.gameStateNotify=r.create(this,"gameState",JSON.parse(cc.sys.localStorage.getItem("gameState"))),this.gameStateNotify.addListener(function(e){cc.sys.localStorage.setItem("gameState",e)})}},cc._RF.pop()},{DataNotify:"DataNotify",ddzConstants:"ddzConstants"}],ddzServers:[function(e,t,a){"use strict";function r(e,t){return o(e)||i(e,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],r=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}return a}}function o(e){if(Array.isArray(e))return e}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}cc._RF.push(t,"a87d0G76kRFHq6wLdF0ibk9","ddzServers"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=e("mygolbal"),c=e("ddzConstants"),d=e("ddzData"),u=e("carder"),h=e("AILogic"),f={playersData:{},landlordIndex:0,landlordNum:0,robplayer:[],landlordId:"",roundWinId:"",winCards:null,initServer:function(){d.gameStateNotify.addListener(this.gameStateHandler,this),$socket.on("canrob_state_notify",this.canrobStateNotify,this),$socket.on("playAHandNotify",this.playAHandNotify,this),$socket.on("nextPlayerNotify",this.nextPlayerNotify,this)},gameStateHandler:function(e){var t,a=this,r=c.gameState;switch(e){case r.INVALID:break;case r.WAITREADY:this.roundWinId="",this.winCards=null;break;case r.GAMESTART:this.playersData=this.initPlayerList(),setTimeout(function(){a.setGameState(r.PUSHCARD)},0);break;case r.PUSHCARD:window.$socket.emit("pushcard_notify",this.playersData[l.playerData.userId].cardList),setTimeout(function(){a.setGameState(r.ROBSTATE)},0);break;case r.ROBSTATE:this.landlordIndex=common.random(0,2);var n=this.playersData.players[this.landlordIndex];this.landlordId="",this.robplayer=[],this.landlordNum=0,window.$socket.emit("canrob_notify",n);break;case r.SHOWBOTTOMCARD:var i=this.playersData[this.landlordId],o=this.playersData.cards;i.isLandlord=!0,i.cardList=i.cardList.concat(o),window.$socket.emit("change_master_notify",{masterId:this.landlordId,cards:o}),setTimeout(function(){a.setGameState(r.PLAYING)},0);break;case r.PLAYING:this.playCard(this.playersData[this.landlordId]);break;case r.GAMEEND:var d=l.playerData.userId,u=this.playersData[this.roundWinId],h=u.nextPlayer,f=h.nextPlayer,g=this.roundWinId===d||u.isLandlord===this.playersData[d].isLandlord;window.$socket.emit("gameEndNotify",{isWin:g,otherPlayerCards:(t={},s(t,h.userId,h.cardList),s(t,f.userId,f.cardList),t)})}},setGameState:function(e){d.gameState=e},initPlayerList:function(){var e,t=l.playerData,a=t.userId,r=t.rootList,n=r[0].userId,i=r[1].userId,o=u.splitThreeCards();console.log("\u65b0\u724c",o);var c=(s(e={players:[a,n,i],cards:o[3]},a,{isLandlord:!1,userId:a,cardList:o[0]}),s(e,n,{isLandlord:!1,userId:n,cardList:o[1]}),s(e,i,{isLandlord:!1,userId:i,cardList:o[2]}),e);return c[a].nextPlayer=c[n],c[n].nextPlayer=c[i],c[i].nextPlayer=c[a],c},canrobStateNotify:function(e){var t=e.userId,a=e.state;this.landlordNum++;var n=this.robplayer;if(a===qian_state.qiang&&this.landlordNum<=3&&n.push(t),this.landlordNum<3){var i=this.playersData.players[++this.landlordIndex%3];window.$socket.emit("canrob_notify",i)}else if(n.length){var o=r(n,3),s=o[0],l=o[1],d=o[2],u=n.length;1===u&&(this.landlordId=s),2===u&&(s===t?this.landlordId=a===qian_state.qiang?s:l:window.$socket.emit("canrob_notify",s)),3===u&&(s===t?a===qian_state.qiang?this.landlordId=s:window.$socket.emit("canrob_notify",l):l===t?this.landlordId=a===qian_state.qiang?l:d:window.$socket.emit("canrob_notify",s))}else this.setGameState(c.gameState.GAMESTART);this.landlordId&&this.setGameState(c.gameState.SHOWBOTTOMCARD)},nextPlayerNotify:function(e){this.playCard(this.playersData[e].nextPlayer)},playCard:function(e){if(console.log("\u51fa\u724c",e),this.roundWinId&&!this.playersData[this.roundWinId].cardList.length)this.setGameState(c.gameState.GAMEEND);else{var t=new h(e);if(e.userId===l.playerData.userId){var a=this.roundWinId&&this.roundWinId!==e.userId?this.winCards:null;console.log(a?"\u73a9\u5bb6\u8ddf\u724c":"\u73a9\u5bb6\u51fa\u724c");var r=t.prompt(a);window.$socket.emit("selfPlayAHandNotify",r)}else{var n=null;if(this.roundWinId&&this.roundWinId!==e.userId){var i=this.playersData[this.roundWinId],o=i.userId===this.landlordId;n=t.follow(this.winCards,o,i.cardList.length),console.log(e.userId,"AI\u8ddf\u724c",n)}else n=t.play(this.playersData[this.landlordId].cardList.length),console.log(e.userId,"AI\u51fa\u724c",n);if(window.$socket.emit("rootPlayAHandNotify",{userId:e.userId,cards:n?n.cardList:[]}),n){for(var s=0;s<n.cardList.length;s++)for(var d=0;d<e.cardList.length;d++)if(e.cardList[d].val===n.cardList[s].val&&e.cardList[d].shape===n.cardList[s].shape){e.cardList.splice(d,1);break}n.cardKind===G.gameRule.BOMB||(n.cardKind,G.gameRule.KING_BOMB),this.roundWinId=e.userId,delete n.cardList,this.winCards=n}}}},playAHandNotify:function(e,t){var a=e.userId,r=e.cards;console.log(r);var n=this.getReadyCardsKind(r);if(console.log(n),n){n.cardKind===G.gameRule.BOMB||(n.cardKind,G.gameRule.KING_BOMB),this.winCards=n,this.roundWinId=a,t&&t({state:1});for(var i=this.playersData[a].cardList,o=0;o<r.length;o++)for(var s=0;s<i.length;s++)r[o].val===i[s].val&&r[o].shape===i[s].shape&&i.splice(s,1);this.nextPlayerNotify(a)}else t&&t({state:0})},getReadyCardsKind:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return null;var t=G.gameRule.typeJudge(e);return t?this.roundWinId&&this.roundWinId!==myglobal.playerData.userId?function(e,a){return a.cardKind===G.gameRule.KING_BOMB||a.cardKind===G.gameRule.BOMB&&e.cardKind!=G.gameRule.BOMB||a.cardKind===e.cardKind&&a.size===e.size&&a.val>e.val?t:null}(this.winCards,t):t:null}};a.default=f,t.exports=a.default,cc._RF.pop()},{AILogic:"AILogic",carder:"carder",ddzConstants:"ddzConstants",ddzData:"ddzData",mygolbal:"mygolbal"}],event_lister:[function(e,t,a){"use strict";cc._RF.push(t,"d485eyCsiBLBqweDM7SjVQh","event_lister"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=function(e){var t={};return e.on=function(e,a,r){var n={callback:a,target:r};if(t.hasOwnProperty(e)){cc.assert(a);var i=!0,o=!1,s=void 0;try{for(var l,c=t[e][Symbol.iterator]();!(i=(l=c.next()).done);i=!0)if(r===l.value.target)return}catch(e){o=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}t[e].push(n)}else t[e]=[n]},e.emit=function(e){if(t.hasOwnProperty(e))for(var a=t[e],r=0;r<a.length;++r){for(var n=a[r],i=n.callback,o=n.target,s=[],l=1;l<arguments.length;++l)s.push(arguments[l]);i.apply(o,s)}},e.remove=function(e,a){t[e]=t[e].filter(function(e){return e.target!==a})},e.removeLister=function(e){t[e]=[]},e.removeAllLister=function(){t={}},e};a.default=r,t.exports=a.default,cc._RF.pop()},{}],gameRule:[function(e,t,a){"use strict";cc._RF.push(t,"6c7e6tN4rNCP7gHVED4eYzS","gameRule");var r=function(){};r.prototype.typeJudge=function(e){var t=e.length;switch(e.sort(function(e,t){return t.val-e.val}),t){case 1:return{cardKind:this.ONE,val:e[0].val,size:t};case 2:return this.isPairs(e)?{cardKind:this.PAIRS,val:e[0].val,size:t}:this.isKingBomb(e)?{cardKind:this.KING_BOMB,val:e[0].val,size:t}:null;case 3:return this.isThree(e)?{cardKind:this.THREE,val:e[0].val,size:t}:null;case 4:return this.isThreeWithOne(e)?{cardKind:this.THREE_WITH_ONE,val:this.getMaxVal(e,3),size:t}:this.isBomb(e)?{cardKind:this.BOMB,val:e[0].val,size:t}:null;default:return this.isProgression(e)?{cardKind:this.PROGRESSION,val:e[0].val,size:t}:this.isProgressionPairs(e)?{cardKind:this.PROGRESSION_PAIRS,val:e[0].val,size:t}:this.isThreeWithPairs(e)?{cardKind:this.THREE_WITH_PAIRS,val:this.getMaxVal(e,3),size:t}:this.isPlane(e)?{cardKind:this.PLANE,val:this.getMaxVal(e,3),size:t}:this.isPlaneWithOne(e)?{cardKind:this.PLANE_WITH_ONE,val:this.getMaxVal(e,3),size:t}:this.isPlaneWithPairs(e)?{cardKind:this.PLANE_WITH_PAIRS,val:this.getMaxVal(e,3),size:t}:this.isFourWithTwo(e)?{cardKind:this.FOUR_WITH_TWO,val:this.getMaxVal(e,4),size:t}:this.isFourWithPairs(e)?{cardKind:this.FOUR_WITH_TWO_PAIRS,val:this.getMaxVal(e,4),size:t}:null}},r.prototype.isPairs=function(e){return 2==e.length&&e[0].val===e[1].val},r.prototype.isThree=function(e){return 3==e.length&&e[0].val===e[1].val&&e[1].val===e[2].val},r.prototype.isThreeWithOne=function(e){if(4!=e.length)return!1;var t=this.valCount(e);return 2===t.length&&(3===t[0].count||3===t[1].count)},r.prototype.isThreeWithPairs=function(e){if(5!=e.length)return!1;var t=this.valCount(e);return 2===t.length&&(3===t[0].count||3===t[1].count)},r.prototype.isProgression=function(e){if(e.length<5||e.length>12)return!1;for(var t=e,a=0;a<t.length;a++)if(13==t[a].value||14==t[a].value||15==t[a].value)return!1;for(a=0;a<t.length&&a!==t.length-1;a++){var r=Number(t[a].value),n=Number(t[a+1].value);if(1!=Math.abs(r-n))return!1}return!0},r.prototype.isProgressionPairs=function(e){if(e.length<6||e.length>20||e.length%2)return!1;for(var t=0;t<e.length;t++)if(14==e[t].value||15==e[t].value||13==e[t].value)return!1;var a={};for(t=0;t<e.length;t++)a.hasOwnProperty(e[t].value)?a[e[t].value]++:a[e[t].value]=1;for(var r in a)if(2!=a[r])return!1;var n=Object.keys(a);if(n.length<3)return!1;for(t=0;t<n.length&&t!==n.length-1;t++){var i=Number(n[t]),o=Number(n[t+1]);if(1!=Math.abs(i-o))return!1}return!0},r.prototype.isPlane=function(e){if(e.length<6||e.length%3!=0||15===e[0].val)return!1;for(var t=0;t<e.length;t+=3)if(t!=e.length-3&&(e[t].val!=e[t+1].val||e[t].val!=e[t+2].val||e[t].val-1!=e[t+3].val))return!1;return!0},r.prototype.isPlaneWithOne=function(e){if(e.length<8||e.length%4!=0)return!1;for(var t=this.valCount(e),a=[],r=e.length/4,n=0;n<t.length;n++)3==t[n].count&&a.push(t[n]);if(a.length!=r||15===a[0].val)return!1;for(var i=0;i<a.length;i++)if(i!=a.length-1&&a[i].val-1!=a[i+1].val)return!1;return!0},r.prototype.isPlaneWithPairs=function(e){if(e.length<10||e.length%5!=0)return!1;for(var t=this.valCount(e),a=[],r=[],n=e.length/5,i=0;i<t.length;i++)if(3==t[i].count)a.push(t[i]);else{if(2!=t[i].count)return!1;r.push(t[i])}if(a.length!=n||r.length!=n||15===a[0].val)return!1;for(var o=0;o<a.length;o++)if(o!=a.length-1&&a[o].val-1!=a[o+1].val)return!1;return!0},r.prototype.isFourWithTwo=function(e){var t=this.valCount(e);if(6!=e.length||t.length>3)return!1;for(var a=0;a<t.length;a++)if(4===t[a].count)return!0;return!1},r.prototype.isFourWithPairs=function(e){if(8!=e.length)return!1;var t=this.valCount(e);if(3!=t.length)return!1;for(var a=0;a<t.length;a++)if(4!=t[a].count&&2!=t[a].count)return!1;return!0},r.prototype.isBomb=function(e){return 4===e.length&&e[0].val===e[1].val&&e[0].val===e[2].val&&e[0].val===e[3].val},r.prototype.isKingBomb=function(e){return 2===e.length&&"0"==e[0].shape&&"0"==e[1].shape},r.prototype.random=function(e,t){e=null==e?0:e;var a=(t=null==t?1:t)-e+1;return Math.floor(Math.random()*a+e)},r.prototype.valCount=function(e){for(var t=[],a=function(e,t){for(var a=0;a<e.length;a++)if(e[a].val==t)return void e[a].count++;e.push({val:t,count:1})},r=0;r<e.length;r++)a(t,e[r].val);return t},r.prototype.getMaxVal=function(e,t){for(var a=this.valCount(e),r=0,n=0;n<a.length;n++)a[n].count===t&&a[n].val>r&&(r=a[n].val);return r},r.prototype.cardSort=function(e,t){var a=parseInt(e.val),r=parseInt(t.val);return a===r?e.shape>t.shape?1:-1:a>r?-1:1},r.prototype.ONE=1,r.prototype.PAIRS=2,r.prototype.THREE=3,r.prototype.THREE_WITH_ONE=4,r.prototype.THREE_WITH_PAIRS=5,r.prototype.PROGRESSION=6,r.prototype.PROGRESSION_PAIRS=7,r.prototype.PLANE=8,r.prototype.PLANE_WITH_ONE=9,r.prototype.PLANE_WITH_PAIRS=10,r.prototype.FOUR_WITH_TWO=11,r.prototype.FOUR_WITH_TWO_PAIRS=12,r.prototype.BOMB=13,r.prototype.KING_BOMB=14,r.prototype.MSG_NO_SELECT="\u8bf7\u9009\u62e9\u8981\u51fa\u7684\u724c",r.prototype.MSG_ERROR_TYPE="\u60a8\u9009\u62e9\u7684\u724c\u4e0d\u7b26\u5408\u6e38\u620f\u89c4\u5219",r.prototype.MSG_NO_ROROB_RESTART="\u6240\u6709\u73a9\u5bb6\u5747\u672a\u53eb\u5206\uff0c\u91cd\u65b0\u53d1\u724c",r.prototype.DESK_STATUS_READY=1,r.prototype.DESK_STATUS_ROB=2,r.prototype.DESK_STATUS_PLAY=3,t.exports=r,cc._RF.pop()},{}],gameScene:[function(e,t,a){"use strict";cc._RF.push(t,"cf22aez0/xDaaC1kRqxn/pw","gameScene");var r=function(e){return e&&e.__esModule?e:{default:e}}(e("../mygolbal.js"));function n(e,t){return s(e)||o(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],r=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}return a}}function s(e){if(Array.isArray(e))return e}var l=e("ddzConstants"),c=e("ddzData");cc.Class({extends:cc.Component,properties:{bjMusic:{type:cc.AudioClip,default:null},di_label:cc.Label,beishu_label:cc.Label,roomid_label:cc.Label,player_node_prefabs:cc.Prefab,btn_ready:cc.Node,players_seat_pos:cc.Node,gameUiNode:cc.Node},onLoad:function(){c.gameState=l.gameState.WAITREADY,c.gameStateNotify.addListener(this.gameStateHandler,this),this.playerNodeList=[];var e=n(r.default.playerData.roomId.split("_"),2),t=e[0],a=e[1];r.default.playerData.rate=t,r.default.playerData.bottom=a,this.roomid_label.string=defines.roomNames[t-1],this.beishu_label.string="\u500d\u6570\uff1a"+t,this.di_label.string="\u5e95\uff1a"+a,console.log("\u91cd\u65b0\u5f00\u59cb",c.gameState),this.btn_ready.active=c.gameState<l.gameState.GAMESTART,isopen_sound&&(cc.audioEngine.stopAll(),cc.audioEngine.play(this.bjMusic,!0)),this.addPlayerNode(r.default.playerData),this.addPlayerNode(r.default.playerData.rootList[0]),this.addPlayerNode(r.default.playerData.rootList[1]),this.node.on("pushcard_other_event",function(){console.log("\u5176\u4ed6\u73a9\u5bb6\u53d1\u724c");for(var e=0;e<this.playerNodeList.length;e++){var t=this.playerNodeList[e];t&&t.emit("push_card_event")}}.bind(this))},start:function(){$socket.on("change_master_notify",this.masterNotify,this)},onDestroy:function(){c.gameStateNotify.removeListener(this.gameStateHandler,this),cc.audioEngine.stopAll(),$socket.remove("change_master_notify",this)},masterNotify:function(e){var t=e.masterId,a=e.cards;r.default.playerData.masterUserId=t,this.gameUiNode.emit("show_bottom_card_event",a);for(var n=0;n<this.playerNodeList.length;n++){var i=this.playerNodeList[n];i&&i.emit("playernode_changemaster_event",t)}},gameStateHandler:function(e){this.btn_ready.active=c.gameState<l.gameState.GAMESTART,e===l.gameState.WAITREADY&&(this.btn_ready.active=!0)},onGoback:function(){c.gameState=l.gameState.INVALID,r.default.playerData.roomId="",cc.sys.localStorage.setItem("userData",JSON.stringify(r.default.playerData)),cc.director.loadScene("hallScene")},onBtnReadey:function(e){this.btn_ready.active=!1,this.playerNodeList.forEach(function(e){e.emit("gamestart_event")}),c.gameState=l.gameState.GAMESTART},addPlayerNode:function(e){var t=e.seatindex,a=cc.instantiate(this.player_node_prefabs);a.parent=this.players_seat_pos.children[t],this.playerNodeList.push(a),a.getComponent("player_node").init_data(e,t)},getUserOutCardPosByAccount:function(e){for(var t=0;t<this.playerNodeList.length;t++){var a=this.playerNodeList[t];if(a){var r=a.getComponent("player_node");if(r.userId===e)return this.players_seat_pos.children[r.seat_index].getChildByName("cardsoutzone")}}return null},getUserNodeByAccount:function(e){for(var t=0;t<this.playerNodeList.length;t++){var a=this.playerNodeList[t];if(a){var r=a.getComponent("player_node");if(r.userId===e)return r}}return null}}),cc._RF.pop()},{"../mygolbal.js":"mygolbal",ddzConstants:"ddzConstants",ddzData:"ddzData"}],gamebeforeUI:[function(e,t,a){"use strict";cc._RF.push(t,"34b69bK3SJBFbE0zzOU1X9M","gamebeforeUI");var r=function(e){return e&&e.__esModule?e:{default:e}}(e("../mygolbal.js"));cc.Class({extends:cc.Component,properties:{btn_ready:cc.Node},onLoad:function(){},start:function(){},onButtonClick:function(e,t){switch(t){case"btn_ready":console.log("btn_ready"),this.btn_ready.active=!1;break;case"btn_start":console.log("btn_start"),r.default.socket.requestStart(function(e,t){0!=e?console.log("requestStart err"+e):console.log("requestStart data"+JSON.stringify(t))})}}}),cc._RF.pop()},{"../mygolbal.js":"mygolbal"}],gameingUI:[function(e,t,a){"use strict";cc._RF.push(t,"fc5fbLb+LFG+rCIt1gYkSVX","gameingUI");var r=function(e){return e&&e.__esModule?e:{default:e}}(e("../mygolbal.js"));var n=e("ddzConstants"),i=e("ddzData");cc.Class({extends:cc.Component,properties:{gameingUI:cc.Node,card_prefab:cc.Prefab,robUI:cc.Node,timeLabel:cc.Label,cardsNode:cc.Node,bottom_card_pos_node:cc.Node,playingUI_node:cc.Node,tipsLabel:cc.Label,loseNode:cc.Node,winNode:cc.Node,fapaiAudio:{type:cc.AudioClip,default:null},jiaodizhuAudio:{type:cc.AudioClip,default:null},buqiangAudio:{type:cc.AudioClip,default:null},cardsAudio:{type:cc.AudioClip,default:null},buyaoAudio:{type:cc.AudioClip,default:[]},chupaiAudio:{type:cc.AudioClip,default:null}},onLoad:function(){this.cards_node=[],this.card_width=0,this.bottom_card=[],this.bottom_card_data=[],this.choose_card_data=[],this.outcar_zone=[],this.push_card_tmp=[],this.promptCount=0,this.promptList=[],this.node.on("show_bottom_card_event",function(e){console.log("----show_bottom_card_event",e),this.bottom_card_data=e;for(var t=0;t<e.length;t++){var a=this.bottom_card[t],n={obj:a,data:e[t]},i=cc.callFunc(function(e,t){var a=t.obj,r=t.data;a.getComponent("card").showCards(r)},this,n);a.runAction(cc.sequence(cc.rotateBy(0,0,180),cc.rotateBy(.2,0,-90),i,cc.rotateBy(.2,0,-90),cc.scaleBy(1,1.2)))}common.audio.PlayEffect(this.cardsAudio),r.default.playerData.userId===r.default.playerData.masterUserId&&this.scheduleOnce(this.pushThreeCard.bind(this),.2)}.bind(this))},start:function(){i.gameStateNotify.addListener(this.gameStateHandler,this),window.$socket.on("_chooseCard",this._chooseCardNotify,this),window.$socket.on("_unchooseCard",this._unchooseCardNotify,this),window.$socket.on("pushcard_notify",this.pushCardNotify,this),window.$socket.on("canrob_notify",this.canrobNotify,this),window.$socket.on("selfPlayAHandNotify",this.selfPlayAHandNotify,this),window.$socket.on("rootPlayAHandNotify",this.rootPlayAHandNotify,this),window.$socket.on("gameEndNotify",this.gameEndNotify,this)},onDestroy:function(){i.gameStateNotify.removeListener(this.gameStateHandler,this),window.$socket.remove("_chooseCard",this),window.$socket.remove("_unchooseCard",this),window.$socket.remove("pushcard_notify",this),window.$socket.remove("canrob_notify",this),window.$socket.remove("selfPlayAHandNotify",this),window.$socket.remove("rootPlayAHandNotify",this),window.$socket.remove("gameEndNotify",this)},_chooseCardNotify:function(e){this.choose_card_data.push(e)},_unchooseCardNotify:function(e){for(var t=0;t<this.choose_card_data.length;t++)this.choose_card_data[t].index===e&&this.choose_card_data.splice(t,1)},gameStateHandler:function(e){e===n.gameState.GAMESTART&&(this.winNode.active=!1,this.loseNode.active=!1,this.cards_node=[],this.bottom_card=[],this.push_card_tmp=[],this.cardsNode.removeAllChildren(),this.bottom_card_pos_node.removeAllChildren())},pushCardNotify:function(e){this.card_data=e,this.cur_index_card=e.length-1,this.pushCard(e),this.scheduleOnce(this._runactive_pushcard.bind(this),.3),this.node.parent.emit("pushcard_other_event")},_runactive_pushcard:function(){if(this.cur_index_card<0)return console.log("pushcard end"),void(isopen_sound&&cc.audioEngine.stop(this.fapai_audioID));(t=this.cards_node[this.cards_node.length-this.cur_index_card-1]).active=!0,this.push_card_tmp.push(t),this.fapai_audioID=common.audio.PlayEffect(this.fapaiAudio);for(var e=0;e<this.push_card_tmp.length-1;e++){var t,a=(t=this.push_card_tmp[e]).x-.4*this.card_width,r=cc.moveTo(.1,cc.v2(a,-250));t.runAction(r)}this.cur_index_card--,this.scheduleOnce(this._runactive_pushcard.bind(this),.3)},canrobNotify:function(e){console.log("onCanRobState",e),e===r.default.playerData.userId&&(this.robUI.active=!0,this.customSchedulerOnce())},customSchedulerOnce:function(){this.count=10;this.schedule(function e(){this.robUI.active&&(this.count||(this.robUI.active=!1,this.unschedule(e),window.$socket.emit("canrob_state_notify",{userId:r.default.playerData.userId,state:qian_state.buqiang}),common.audio.PlayEffect(this.buqiangAudio)),this.timeLabel.string=--this.count)},1,10)},selfPlayAHandNotify:function(e){console.log("\u73a9\u5bb6\u51fa\u724c\u63d0\u793a",e),this.promptCount=0,this.promptList=e,this.clearOutZone(r.default.playerData.userId),this.playingUI_node.active=!0},rootPlayAHandNotify:function(e){var t=this,a=e.userId,r=e.cards,n=this.node.parent.getComponent("gameScene"),i=n.getUserOutCardPosByAccount(a);if(i){i.removeAllChildren(!0);for(var o=[],s=0;s<r.length;s++){var l=cc.instantiate(this.card_prefab);l.getComponent("card").showCards(r[s],a),o.push(l)}var c=common.random(0,10),d=n.getUserNodeByAccount(a);d&&d.schedulerOnce(function(){t.appendOtherCardsToOutZone(i,o,0),d.subtractCards(r.length),window.$socket.emit("nextPlayerNotify",a)},c)}},gameEndNotify:function(e){var t=e.isWin,a=e.otherPlayerCards;console.log("\u6e38\u620f\u7ed3\u675f",{isWin:t,otherPlayerCards:a}),t?this.winNode.active=!0:this.loseNode.active=!0,i.gameState=n.gameState.WAITREADY},sortCard:function(){this.cards_node.sort(function(e,t){var a=e.getComponent("card").card_data,r=t.getComponent("card").card_data;return a.hasOwnProperty("value")&&r.hasOwnProperty("value")?r.value-a.value:a.hasOwnProperty("king")&&!r.hasOwnProperty("king")?-1:!a.hasOwnProperty("king")&&r.hasOwnProperty("king")?1:a.hasOwnProperty("king")&&r.hasOwnProperty("king")?r.king-a.king:void 0});var e=this.cards_node[0].x;setTimeout(function(){console.log("sort x:"+e);for(var t=0;t<this.cards_node.length;t++){var a=this.cards_node[t];a.zIndex=t,a.x=e+.4*a.width*t}}.bind(this),1e3)},pushCard:function(e){e&&e.sort(function(e,t){return e.hasOwnProperty("value")&&t.hasOwnProperty("value")?t.value-e.value:e.hasOwnProperty("king")&&!t.hasOwnProperty("king")?-1:!e.hasOwnProperty("king")&&t.hasOwnProperty("king")?1:e.hasOwnProperty("king")&&t.hasOwnProperty("king")?t.king-e.king:void 0}),this.cards_node=[];for(var t=0;t<17;t++){var a=cc.instantiate(this.card_prefab);a.scale=.8,a.parent=this.cardsNode,a.x=.4*a.width*-.5*-16+.4*a.width*0,a.y=-250,a.active=!1,a.getComponent("card").showCards(e[t],r.default.playerData.userId),this.cards_node.push(a),this.card_width=a.width}this.bottom_card=[];for(t=0;t<3;t++){var n=cc.instantiate(this.card_prefab);n.scale=.4,0==t?n.x=n.x-.5*n.width:2==t&&(n.x=n.x+.5*n.width),n.parent=this.bottom_card_pos_node,this.bottom_card.push(n)}},schedulePushThreeCard:function(){for(var e=0;e<this.cards_node.length;e++){var t=this.cards_node[e];-230==t.y&&(t.y=-250)}this.updateCards()},pushThreeCard:function(){for(var e=this.cards_node[this.cards_node.length-1].x,t=0;t<this.bottom_card_data.length;t++){var a=cc.instantiate(this.card_prefab);a.scale=.8,a.parent=this.cardsNode,a.x=e+(t+1)*this.card_width*.4,a.y=-230,a.getComponent("card").showCards(this.bottom_card_data[t],r.default.playerData.userId),a.active=!0,this.cards_node.push(a)}this.sortCard(),this.scheduleOnce(this.schedulePushThreeCard.bind(this),2)},destoryCard:function(e,t){if(t.length){for(var a=[],r=0;r<t.length;r++)for(var n=0;n<this.cards_node.length;n++){this.cards_node[n].getComponent("card").caardIndex==t[r].index&&(this.cards_node[n].removeFromParent(!0),a.push(this.cards_node[n]),this.cards_node.splice(n,1))}this.appendCardsToOutZone(e,a),this.updateCards()}},clearOutZone:function(e){for(var t=this.node.parent.getComponent("gameScene").getUserOutCardPosByAccount(e),a=t.children,r=0;r<a.length;r++){a[r].destroy()}t.removeAllChildren(!0)},pushCardSort:function(e){1!=e.length&&e.sort(function(e,t){var a=e.getComponent("card").card_data,r=t.getComponent("card").card_data;return a.hasOwnProperty("value")&&r.hasOwnProperty("value")?r.value-a.value:a.hasOwnProperty("king")&&!r.hasOwnProperty("king")?-1:!a.hasOwnProperty("king")&&r.hasOwnProperty("king")?1:a.hasOwnProperty("king")&&r.hasOwnProperty("king")?r.king-a.king:void 0})},appendOtherCardsToOutZone:function(e,t,a){if(t.length){common.audio.PlayEffect(this.chupaiAudio);for(var r=0;r<t.length;r++){var n=t[r];e.addChild(n,100+r)}var i=t.length/2;for(r=0;r<t.length;r++){var o=e.getChildren()[r],s=30*(r-i),l=o.y+a;o.setScale(.5,.5),o.setPosition(s,l)}}else{var c=common.random(0,3);common.audio.PlayEffect(this.buyaoAudio[c])}},appendCardsToOutZone:function(e,t){if(t.length){this.pushCardSort(t);var a=this.node.parent.getComponent("gameScene").getUserOutCardPosByAccount(e);this.appendOtherCardsToOutZone(a,t,360)}},updateCards:function(){for(var e=this.cards_node.length/2,t=0;t<this.cards_node.length;t++){var a=this.cards_node[t],r=(t-e)*(.4*this.card_width)+50;a.setPosition(r,-250)}},playPushCardSound:function(e){if(console.log("playPushCardSound:"+e),""!=e)switch(e){case CardsValue.one.name:break;case CardsValue.double.name:isopen_sound&&cc.audioEngine.play(cc.url.raw("resources/sound/duizi.mp3"))}},onButtonClick:function(e,t){var a=this;switch(t){case"btn_qiandz":window.$socket.emit("canrob_state_notify",{userId:r.default.playerData.userId,state:qian_state.qiang}),this.robUI.active=!1,common.audio.PlayEffect(this.jiaodizhuAudio);break;case"btn_buqiandz":window.$socket.emit("canrob_state_notify",{userId:r.default.playerData.userId,state:qian_state.buqiang}),this.robUI.active=!1,common.audio.PlayEffect(this.buqiangAudio);break;case"nopushcard":window.$socket.emit("nextPlayerNotify",r.default.playerData.userId);var n=common.random(0,3);common.audio.PlayEffect(this.buyaoAudio[n]),this.choose_card_data=[],this.cards_node.map(function(e){return e.emit("reset_card_flag")}),this.playingUI_node.active=!1;break;case"pushcard":0==this.choose_card_data.length&&(this.tipsLabel.string="\u8bf7\u9009\u62e9\u724c!",setTimeout(function(){this.tipsLabel.string=""}.bind(this),2e3)),window.$socket.emit("playAHandNotify",{userId:r.default.playerData.userId,cards:this.choose_card_data},function(e){1===e.state?(a.destoryCard(r.default.playerData.userId,a.choose_card_data),a.playingUI_node.active=!1):a.cards_node.map(function(e){return e.emit("reset_card_flag")}),a.choose_card_data=[]});break;case"tipcard":if(this.choose_card_data=[],this.cards_node.map(function(e){return e.emit("reset_card_flag")}),this.promptList.length)for(var i=this.promptCount%this.promptList.length,o=this.promptList[i],s=this.cards_node,l=0;l<o.length;l++)for(var c=o[l],d=0;d<s.length;d++){var u=s[d].getComponent("card"),h=u.card_data;h.val===c.val&&h.shape===c.shape&&u.node.emit(cc.Node.EventType.TOUCH_START)}this.promptCount++}}}),cc._RF.pop()},{"../mygolbal.js":"mygolbal",ddzConstants:"ddzConstants",ddzData:"ddzData"}],hallScene:[function(e,t,a){"use strict";cc._RF.push(t,"9eee7bdCqVB/LXv3XqKAza9","hallScene");var r=function(e){return e&&e.__esModule?e:{default:e}}(e("../mygolbal.js"));cc.Class({extends:cc.Component,properties:{nickname_label:cc.Label,headimage:cc.Sprite,gobal_count:cc.Label,creatroom_prefabs:cc.Prefab,joinroom_prefabs:cc.Prefab},onLoad:function(){this.nickname_label.string=r.default.playerData.userName,cc.director.preloadScene("gameScene")},start:function(){},onButtonClick:function(e,t){switch(t){case"create_room":var a=cc.instantiate(this.creatroom_prefabs);a.parent=this.node,a.zIndex=100;break;case"join_room":var r=cc.instantiate(this.joinroom_prefabs);r.parent=this.node,r.zIndex=100}},onBtnJingdian:function(){var e=cc.instantiate(this.creatroom_prefabs);e.parent=this.node,e.zIndex=100},onBtnLaizi:function(){alert("\u6682\u672a\u5f00\u653e")}}),cc._RF.pop()},{"../mygolbal.js":"mygolbal"}],joinRoom:[function(e,t,a){"use strict";cc._RF.push(t,"9b543i+qr1Px4nfSdBwSJcb","joinRoom");var r=function(e){return e&&e.__esModule?e:{default:e}}(e("../../mygolbal.js"));cc.Class({extends:cc.Component,properties:{joinids:{type:cc.Label,default:[]}},onLoad:function(){this.joinid="",this.cur_input_count=-1},start:function(){},onButtonClick:function(e,t){if(1===t.length){if(this.joinid+=t,this.cur_input_count+=1,this.joinids[this.cur_input_count].string=t,this.joinid.length>=6){var a={roomId:this.joinid};return void r.default.socket.request_jion(a,function(e,t){e?console.log("err"+e):(console.log("join room sucess"+JSON.stringify(t)),r.default.playerData.bottom=t.bottom,r.default.playerData.rate=t.rate,cc.director.loadScene("gameScene"))})}console.log("customData:"+t)}switch(t){case"back":if(this.cur_input_count<0)return;this.joinids[this.cur_input_count].string="",this.cur_input_count-=1,this.joinid=this.joinid.substring(0,this.joinid.length-1);break;case"clear":for(var n=0;n<6;++n)this.joinids[n].string="";this.joinid="",this.cur_input_count=-1;break;case"close":this.node.destroy()}}}),cc._RF.pop()},{"../../mygolbal.js":"mygolbal"}],loadingLayer:[function(e,t,a){"use strict";cc._RF.push(t,"b9626abTnFA4qlDHKSyHt+1","loadingLayer");var r=function(e){return e&&e.__esModule?e:{default:e}}(e("../mygolbal.js"));cc.Class({extends:cc.Component,properties:{},__preload:function(){this.init()},start:function(){},init:function(){cc.view.resizeWithBrowserSize(!0),cc.view.setResizeCallback(this.resizeCallback),cc.director.on(cc.Director.EVENT_AFTER_SCENE_LAUNCH,this.resizeCallback),cc.game.addPersistRootNode(this.node);var e=r.default.playerData,t=e.userId,a=e.roomId;console.log("userId = ",t),console.log("roomId = ",a),t?a?cc.director.loadScene("gameScene"):cc.director.loadScene("hallScene"):cc.director.loadScene("loginScene")},resizeCallback:function(){var e=cc.find("Canvas").getComponent(cc.Canvas),t=cc.winSize.width/e.designResolution.width,a=cc.winSize.height/e.designResolution.height;t<a?(e.fitWidth=!0,e.fitHeight=!1):a<t?(e.fitWidth=!1,e.fitHeight=!0):(e.fitWidth=!1,e.fitHeight=!1)}});cc._RF.pop()},{"../mygolbal.js":"mygolbal"}],loginScene:[function(e,t,a){"use strict";cc._RF.push(t,"b05a68gSOpBWr8ddvT03Jpj","loginScene");var r=function(e){return e&&e.__esModule?e:{default:e}}(e("../mygolbal.js"));cc.Class({extends:cc.Component,properties:{wait_node:cc.Node},onLoad:function(){cc.director.preloadScene("hallScene")},start:function(){},onButtonCilck:function(e,t){switch(t){case"wx_login":console.log("wx_login request"),r.default.socket.request_wxLogin({uniqueID:r.default.playerData.uniqueID,userName:r.default.playerData.userName,avatarUrl:r.default.playerData.avatarUrl},function(e,t){0==e?(console.log("login sucess"+JSON.stringify(t)),r.default.playerData.gobal_count=t.goldcount,cc.director.loadScene("hallScene")):console.log("err:"+e)}.bind(this));break;case"guest_login":this.wait_node.active=!0;var a=Math.floor(1e5*Math.random()),n="guest_".concat(a);r.default.playerData.userId="".concat(a),r.default.playerData.userName=n,cc.sys.localStorage.setItem("userData",JSON.stringify(r.default.playerData)),cc.director.loadScene("hallScene")}}}),cc._RF.pop()},{"../mygolbal.js":"mygolbal"}],mygolbal:[function(e,t,a){"use strict";cc._RF.push(t,"d9667atqdBHIb60A67blB9L","mygolbal"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=o(e("./data/socket_ctr.js")),n=o(e("./data/player.js")),i=o(e("./util/event_lister.js"));function o(e){return e&&e.__esModule?e:{default:e}}var s={}||s;s.socket=(0,r.default)(),s.playerData=(0,n.default)(),s.eventlister=(0,i.default)({});var l=s;a.default=l,t.exports=a.default,cc._RF.pop()},{"./data/player.js":"player","./data/socket_ctr.js":"socket_ctr","./util/event_lister.js":"event_lister"}],player_node:[function(e,t,a){"use strict";cc._RF.push(t,"aa64aMZgnFIfLx2Lmi+lbwV","player_node");var r=function(e){return e&&e.__esModule?e:{default:e}}(e("../../mygolbal.js"));var n=e("ddzConstants"),i=e("ddzData");cc.Class({extends:cc.Component,properties:{headImage:cc.Sprite,nickname_label:cc.Label,globalcount_label:cc.Label,readyimage:cc.Node,card_node:cc.Node,card_prefab:cc.Prefab,clockimage:cc.Node,qiangdidzhu_node:cc.Node,time_label:cc.Label,robimage_sp:cc.SpriteFrame,robnoimage_sp:cc.SpriteFrame,robIcon_Sp:cc.Node,robnoIcon_Sp:cc.Node,masterIcon:cc.Node,jiaodizhu:{type:cc.AudioClip,default:null},buqiang:{type:cc.AudioClip,default:null}},getGameScene:function(){return cc.find("Canvas").getComponent("gameScene")},onLoad:function(){var e=this;this.masterIcon.active=!1,this.node.on("gamestart_event",function(){e.readyimage.active=!1}),this.node.on("push_card_event",function(e){0!==this.seat_index&&this.pushCard()}.bind(this)),this.node.on("playernode_changemaster_event",function(e){if(this.robIcon_Sp.active=!1,this.robnoIcon_Sp.active=!1,e===this.userId&&(this.masterIcon.active=!0,e!==r.default.playerData.userId)){var t=this.cardlist_node[0];t&&(t.getChildByName("count").getComponent(cc.Label).string=20)}}.bind(this))},start:function(){i.gameStateNotify.addListener(this.gameStateHandler,this),window.$socket.on("canrob_notify",this.canrobNotify,this),window.$socket.on("gameEndNotify",this.gameEndNotify,this)},onDestroy:function(){i.gameStateNotify.removeListener(this.gameStateHandler,this),window.$socket.remove("canrob_notify",this),window.$socket.remove("gameEndNotify",this)},init_data:function(e,t){this.userId=e.userId,this.nickname_label.string=e.userName,this.globalcount_label.string=e.goldcount,this.cardlist_node=[],this.seat_index=t;var a="UI/headimage/"+e.avatarUrl;cc.loader.loadRes(a,cc.SpriteFrame,function(e,t){e?console.log(e.message||e):this.headImage.spriteFrame=t}.bind(this)),t?1===t&&(this.card_node.x=-this.card_node.x):this.readyimage.active=!1},gameStateHandler:function(e){e===n.gameState.GAMESTART&&(this.cardlist_node=[],this.card_node.removeAllChildren(),this.clearOutZone(),this.masterIcon.active=!1,this.readyimage.active=!1,this.robIcon_Sp.active=!1,this.robnoIcon_Sp.active=!1)},canrobNotify:function(e){var t=this;if(e===this.userId&&e!==r.default.playerData.userId){this.robIcon_Sp.active=!1,this.robnoIcon_Sp.active=!1;var a=common.random(0,10)>5;this.schedulerOnce(function(){a&&(t.robIcon_Sp.active=!0),!a&&(t.robnoIcon_Sp.active=!0),window.$socket.emit("canrob_state_notify",{userId:t.userId,state:a?qian_state.qiang:qian_state.buqiang}),common.audio.PlayEffect(a?t.jiaodizhu:t.buqiang)})}},schedulerOnce:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:common.random(0,10);this.count=10,this.time_label.string=this.count,this.qiangdidzhu_node.active=!0;this.schedule(function a(){this.count&&10-t!==this.count||(this.qiangdidzhu_node.active=!1,this.unschedule(a),e&&e()),this.time_label.string=--this.count},1,t)},pushCard:function(){this.card_node.active=!0;var e=cc.instantiate(this.card_prefab);e.scale=.6,e.parent=this.card_node,this.cardlist_node.push(e);var t=0;e.getChildByName("count").active=!0;this.schedule(function a(){17===t&&this.unschedule(a),e.getChildByName("count").getComponent(cc.Label).string=t,t++},.1,17)},subtractCards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.cardlist_node.length){var t=this.cardlist_node[0].getChildByName("count").getComponent(cc.Label);t.string-=e,!Number(t.string)&&this.card_node.removeAllChildren()}},gameEndNotify:function(e){var t=e.otherPlayerCards[this.userId],a=this.cardlist_node;if(t&&this.userId!==r.default.playerData.userId){t.sort(function(e,t){return t.val-e.val});for(var n=0;n<t.length;n++){var i=a[n];i?i.getChildByName("count").getComponent(cc.Label).string="":((i=cc.instantiate(this.card_prefab)).scale=.6,i.parent=this.card_node,a.push(i)),i.getComponent("card").showCards(t[n],this.userId)}}},clearOutZone:function(){for(var e=this.getGameScene().getUserOutCardPosByAccount(this.userId),t=e.children,a=0;a<t.length;a++){t[a].destroy()}e.removeAllChildren(!0)}}),cc._RF.pop()},{"../../mygolbal.js":"mygolbal",ddzConstants:"ddzConstants",ddzData:"ddzData"}],player:[function(e,t,a){"use strict";cc._RF.push(t,"ec2a0fYPv1ASr8YTOKp3Np/","player"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=function(e){for(var t="",a=0;a<e;a++)t+=Math.floor(10*Math.random());return t},n=function(){var e=JSON.parse(cc.sys.localStorage.getItem("userData")),t=[r(5),r(5)],a=t[0],n=t[1],i=e||{userId:"",userName:"",roomId:"",seatindex:0,avatarUrl:"avatar_1",goldcount:1e4,rootList:[{seatindex:1,userId:a,userName:"guest_".concat(a),avatarUrl:"avatar_2",goldcount:r(4)},{seatindex:2,userId:n,userName:"guest_".concat(n),avatarUrl:"avatar_3",goldcount:r(4)}],masterUserId:""};return i.gobal_count=cc.sys.localStorage.getItem("user_count"),e||(console.log(e),cc.sys.localStorage.setItem("userData",JSON.stringify(i))),i};a.default=n,t.exports=a.default,cc._RF.pop()},{}],socket_ctr:[function(e,t,a){"use strict";cc._RF.push(t,"9ce03TvsElJsaLzLDlseCff","socket_ctr"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e("../util/event_lister.js"));window.$socket=(0,r.default)({});var n=function(){var e={},t={},a=0,r=null,n=function(e,t,a){r.emit("notify",{cmd:e,data:t,callindex:a})},i=function(e,r,i){console.log("send cmd:"+e+"  "+JSON.stringify(r)),t[++a]=i,n(e,r,a)};return e.initSocket=function(){(r=window.io.connect(defines.serverUrl,{reconnection:!1,"force new connection":!0,transports:["websocket","polling"]})).on("connection",function(){console.log("connect server success!!")}),r.on("notify",function(e){if(console.log("on notify cmd:"+JSON.stringify(e)),t.hasOwnProperty(e.callBackIndex)){var a=t[e.callBackIndex];a&&a(e.result,e.data)}else{var r=e.type;$socket.emit(r,e.data)}})},e.request_wxLogin=function(e,t){i("wxlogin",e,t)},e.request_creatroom=function(e,t){i("createroom_req",e,t)},e.request_jion=function(e,t){i("joinroom_req",e,t)},e.request_enter_room=function(e,t){i("enterroom_req",e,t)},e.request_buchu_card=function(e,t){i("chu_bu_card_req",e,t)},e.request_chu_card=function(e,t){i("chu_card_req",e,t)},e.onPlayerJoinRoom=function(e){$socket.on("player_joinroom_notify",e)},e.onPlayerReady=function(e){$socket.on("player_ready_notify",e)},e.onGameStart=function(e){e&&$socket.on("gameStart_notify",e)},e.onChangeHouseManage=function(e){e&&$socket.on("changehousemanage_notify",e)},e.requestReady=function(){n("player_ready_notify",{},null)},e.requestStart=function(e){i("player_start_notify",{},e)},e.requestRobState=function(e){n("player_rob_notify",e,null)},e.onPushCards=function(e){e&&$socket.on("pushcard_notify",e)},e.onCanRobState=function(e){e&&$socket.on("canrob_notify",e)},e.onRobState=function(e){e&&$socket.on("canrob_state_notify",e)},e.onChangeMaster=function(e){e&&$socket.on("change_master_notify",e)},e.onShowBottomCard=function(e){e&&$socket.on("change_showcard_notify",e)},e.onCanChuCard=function(e){e&&$socket.on("can_chu_card_notify",e)},e.onRoomChangeState=function(e){e&&$socket.on("room_state_notify",e)},e.onOtherPlayerChuCard=function(e){e&&$socket.on("other_chucard_notify",e)},e};a.default=n,t.exports=a.default,cc._RF.pop()},{"../util/event_lister.js":"event_lister"}],start:[function(e,t,a){"use strict";cc._RF.push(t,"839bdzLUEZCRZq4d0xtB8h0","start");var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./mygolbal.js"));var n=e("common"),i=e("ddzData"),o=e("ddzServers"),s=e("gameRule"),l=cc.Class({extends:cc.Component,__preload:function(){window.myglobal=window.myglobal||r.default,window.common=window.common||n,window.G=window.G||{gameRule:new s},i.initData(),o.initServer()}});t.extends=l,cc._RF.pop()},{"./mygolbal.js":"mygolbal",common:"common",ddzData:"ddzData",ddzServers:"ddzServers",gameRule:"gameRule"}],"use_v2.0.x_cc.Toggle_event":[function(e,t,a){"use strict";cc._RF.push(t,"79bf6BUP3xAD4JfzPWxDtAX","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}],waitnode:[function(e,t,a){"use strict";cc._RF.push(t,"17318Pv1MxELb6d+o/SHo0s","waitnode"),cc.Class({extends:cc.Component,properties:{loadimage_target:cc.Node,_isShow:!1,lblContent:cc.Label},start:function(){this.node.active=this._isShow},update:function(e){this.loadimage_target.rotation=this.loadimage_target.rotation-45*e},show:function(e){this._isShow=!0,this.node&&(this.node.active=this._isShow),this.lblContent&&(null==e&&(e=""),this.lblContent.string=e)},hide:function(){this._isShow=!1,this.node&&(this.node.active=this._isShow)}}),cc._RF.pop()},{}]},{},["use_v2.0.x_cc.Toggle_event","DataNotify","audioManager","common","loadingLayer","ddzConstants","ddzData","player","socket_ctr","gameScene","gamebeforeUI","gameingUI","card","player_node","hallScene","creatRoom","joinRoom","loginScene","mygolbal","start","event_lister","waitnode","AILogic","carder","ddzServers","gameRule"]);