{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\scripts\\hallscene\\prefabs_script/assets\\scripts\\hallscene\\prefabs_script\\creatRoom.js"],"names":["cc","Class","Component","properties","start","_createroom","rate","console","log","global","room_para","myglobal","socket","request_creatroom","err","result","JSON","stringify","playerData","bottom","director","loadScene","onButtonClick","event","customData","node","destroy"],"mappings":";;;;;;AAAA;;;;AACAA,EAAE,CAACC,KAAH,CAAS;AACP,aAASD,EAAE,CAACE,SADL;AAGPC,EAAAA,UAAU,EAAE,EAHL;AAOP;AAEA;AAEAC,EAAAA,KAXO,mBAWC,CAEP,CAbM;AAePC,EAAAA,WAfO,uBAeKC,IAfL,EAeW;AAChB,QAAIA,IAAI,GAAG,CAAP,IAAYA,IAAI,GAAG,CAAvB,EAA0B;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAA2BF,IAAvC;AACA;AACD;;AAED,QAAIG,MAAM,GAAG,CAAb;;AACA,QAAIH,IAAI,IAAI,CAAZ,EAAe;AACbG,MAAAA,MAAM,GAAG,EAAT;AACD,KAFD,MAEO,IAAIH,IAAI,IAAI,CAAZ,EAAe;AACpBG,MAAAA,MAAM,GAAG,EAAT;AACD,KAFM,MAEA,IAAIH,IAAI,IAAI,CAAZ,EAAe;AACpBG,MAAAA,MAAM,GAAG,EAAT;AACD,KAFM,MAEA,IAAIH,IAAI,IAAI,CAAZ,EAAe;AACpBG,MAAAA,MAAM,GAAG,EAAT;AACD;;AAED,QAAIC,SAAS,GAAG;AACdD,MAAAA,MAAM,EAAEA,MADM;AAEdH,MAAAA,IAAI,EAAEA;AAFQ,KAAhB,CAjBgB,CAqBhB;;AACAK,yBAASC,MAAT,CAAgBC,iBAAhB,CAAkCH,SAAlC,EAA6C,UAAUI,GAAV,EAAeC,MAAf,EAAuB;AAClE,UAAID,GAAG,IAAI,CAAX,EAAc;AACZP,QAAAA,OAAO,CAACC,GAAR,CAAY,qBAAqBM,GAAjC;AACD,OAFD,MAEO;AACLP,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgBQ,IAAI,CAACC,SAAL,CAAeF,MAAf,CAA5B,EADK,CAEL;;AACAJ,6BAASO,UAAT,CAAoBC,MAApB,GAA6BJ,MAAM,CAACI,MAApC;AACAR,6BAASO,UAAT,CAAoBZ,IAApB,GAA2BS,MAAM,CAACT,IAAlC;AACAN,QAAAA,EAAE,CAACoB,QAAH,CAAYC,SAAZ,CAAsB,WAAtB;AACD;AAEF,KAXD;AAYD,GAjDM;AAmDP;AACAC,EAAAA,aApDO,yBAoDOC,KApDP,EAoDcC,UApDd,EAoD0B;AAC/B,YAAQA,UAAR;AACE,WAAK,eAAL;AACE,aAAKnB,WAAL,CAAiB,CAAjB;;AACA;;AACF,WAAK,eAAL;AACE,aAAKA,WAAL,CAAiB,CAAjB;;AACA;;AACF,WAAK,eAAL;AACE,aAAKA,WAAL,CAAiB,CAAjB;;AACA;;AACF,WAAK,eAAL;AACE,aAAKA,WAAL,CAAiB,CAAjB;;AACA;;AACF,WAAK,mBAAL;AACE,aAAKoB,IAAL,CAAUC,OAAV;AACA;;AACF;AACE;AAjBJ;;AAmBA,SAAKD,IAAL,CAAUC,OAAV;AAED;AA1EM,CAAT","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\scripts\\hallscene\\prefabs_script","sourcesContent":["import myglobal from \"../../mygolbal.js\"\r\ncc.Class({\r\n  extends: cc.Component,\r\n\r\n  properties: {\r\n\r\n  },\r\n\r\n  // LIFE-CYCLE CALLBACKS:\r\n\r\n  // onLoad () {},\r\n\r\n  start() {\r\n\r\n  },\r\n\r\n  _createroom(rate) {\r\n    if (rate < 0 || rate > 4) {\r\n      console.log(\"create room rate error\" + rate)\r\n      return\r\n    }\r\n\r\n    var global = 0\r\n    if (rate == 1) {\r\n      global = 10\r\n    } else if (rate == 2) {\r\n      global = 20\r\n    } else if (rate == 3) {\r\n      global = 30\r\n    } else if (rate == 4) {\r\n      global = 40\r\n    }\r\n\r\n    var room_para = {\r\n      global: global,\r\n      rate: rate\r\n    }\r\n    //播放一个等待动画\r\n    myglobal.socket.request_creatroom(room_para, function (err, result) {\r\n      if (err != 0) {\r\n        console.log(\"create_room err:\" + err)\r\n      } else {\r\n        console.log(\"create_room\" + JSON.stringify(result))\r\n        //网络数据包\r\n        myglobal.playerData.bottom = result.bottom\r\n        myglobal.playerData.rate = result.rate\r\n        cc.director.loadScene(\"gameScene\")\r\n      }\r\n\r\n    })\r\n  },\r\n\r\n  // update (dt) {},\r\n  onButtonClick(event, customData) {\r\n    switch (customData) {\r\n      case \"create_room_1\":\r\n        this._createroom(1)\r\n        break\r\n      case \"create_room_2\":\r\n        this._createroom(2)\r\n        break\r\n      case \"create_room_3\":\r\n        this._createroom(3)\r\n        break\r\n      case \"create_room_4\":\r\n        this._createroom(4)\r\n        break\r\n      case \"create_room_close\":\r\n        this.node.destroy()\r\n        break\r\n      default:\r\n        break\r\n    }\r\n    this.node.destroy()\r\n\r\n  }\r\n\r\n});\r\n"]}