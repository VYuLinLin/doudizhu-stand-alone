{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\gameScene/assets\\scripts\\gameScene\\gamebeforeUI.js"],"names":["cc","Class","Component","properties","btn_ready","Node","onLoad","start","onButtonClick","event","customData","console","log","active","myglobal","socket","requestStart","err","data","JSON","stringify"],"mappings":";;;;;;AAAA;;;;AACAA,EAAE,CAACC,KAAH,CAAS;AACP,aAASD,EAAE,CAACE,SADL;AAGPC,EAAAA,UAAU,EAAE;AACVC,IAAAA,SAAS,EAAEJ,EAAE,CAACK,IADJ,CACU;AACpB;;AAFU,GAHL;AAQP;AAEAC,EAAAA,MAVO,oBAUE,CAEP;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACD,GAhDM;AAkDPC,EAAAA,KAlDO,mBAkDC,CAEP,CApDM;AAsDP;AAEAC,EAAAA,aAxDO,yBAwDOC,KAxDP,EAwDcC,UAxDd,EAwD0B;AAC/B,YAAQA,UAAR;AACE,WAAK,WAAL;AACEC,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EADF,CAEE;;AACA,aAAKR,SAAL,CAAeS,MAAf,GAAwB,KAAxB;AACA;;AACF,WAAK,WAAL;AACE;AACA;AACA;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;;AACAE,6BAASC,MAAT,CAAgBC,YAAhB,CAA6B,UAAUC,GAAV,EAAeC,IAAf,EAAqB;AAChD,cAAID,GAAG,IAAI,CAAX,EAAc;AACZN,YAAAA,OAAO,CAACC,GAAR,CAAY,qBAAqBK,GAAjC;AACD,WAFD,MAEO;AACLN,YAAAA,OAAO,CAACC,GAAR,CAAY,sBAAsBO,IAAI,CAACC,SAAL,CAAeF,IAAf,CAAlC;AAED;AACF,SAPD;;AAQA;;AACF;AACE;AArBJ;AAuBD;AAhFM,CAAT","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\gameScene","sourcesContent":["import myglobal from \"../mygolbal.js\"\r\ncc.Class({\r\n  extends: cc.Component,\r\n\r\n  properties: {\r\n    btn_ready: cc.Node, // 准备\r\n    // btn_gamestart: cc.Node, // 开始\r\n  },\r\n\r\n  // LIFE-CYCLE CALLBACKS:\r\n\r\n  onLoad() {\r\n\r\n    // this.btn_gamestart.active = false\r\n\r\n    //监听本地的发送的消息\r\n    // this.node.on(\"init\", function () {\r\n    //   console.log(\"game beforeui init\")\r\n    //   console.log(\"myglobal.playerData.housemanageid\" + myglobal.playerData.housemanageid)\r\n    //   console.log(\"myglobal.playerData.userId\" + myglobal.playerData.userId)\r\n    //   if (myglobal.playerData.housemanageid == myglobal.playerData.userId) {\r\n    //     //自己就是房主\r\n    //     this.btn_gamestart.active = true\r\n    //     this.btn_ready.active = false\r\n    //   } else {\r\n    //     this.btn_gamestart.active = false\r\n    //     this.btn_ready.active = true\r\n    //   }\r\n    // }.bind(this))\r\n\r\n    //监听服务器发送来的消息\r\n    // myglobal.socket.onGameStart(function(){\r\n    //     console.log(\"gamebrforeUI onGameStart revice\")\r\n    //     this.node.active = false\r\n    // }.bind(this))\r\n\r\n    // myglobal.socket.onChangeHouseManage(function (data) {\r\n    //   console.log(\"gamebrforeUI onChangeHouseManage revice\" + JSON.stringify(data))\r\n    //   myglobal.playerData.housemanageid = data\r\n    //   if (myglobal.playerData.housemanageid == myglobal.playerData.userId) {\r\n    //     //自己就是房主\r\n    //     this.btn_gamestart.active = true\r\n    //     this.btn_ready.active = false\r\n    //   } else {\r\n    //     this.btn_gamestart.active = false\r\n    //     this.btn_ready.active = true\r\n    //   }\r\n\r\n    // }.bind(this))\r\n  },\r\n\r\n  start() {\r\n\r\n  },\r\n\r\n  // update (dt) {},\r\n\r\n  onButtonClick(event, customData) {\r\n    switch (customData) {\r\n      case \"btn_ready\":\r\n        console.log(\"btn_ready\")\r\n        // myglobal.socket.requestReady()\r\n        this.btn_ready.active = false\r\n        break\r\n      case \"btn_start\":\r\n        // if(isopen_sound){\r\n        //    cc.audioEngine.play(cc.url.raw(\"resources/sound/start_a.ogg\")) \r\n        //  }\r\n        console.log(\"btn_start\")\r\n        myglobal.socket.requestStart(function (err, data) {\r\n          if (err != 0) {\r\n            console.log(\"requestStart err\" + err)\r\n          } else {\r\n            console.log(\"requestStart data\" + JSON.stringify(data))\r\n\r\n          }\r\n        })\r\n        break\r\n      default:\r\n        break\r\n    }\r\n  }\r\n});\r\n"]}